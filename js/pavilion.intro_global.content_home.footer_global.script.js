tbApp.onScriptLoaded(function(){$sReg.set('/tb/basename','pavilion');$sReg.set('/tb/theme_stylesheet_url','');$sReg.set('/tb/theme_catalog_resource_url','https://www.craftstore.gr/catalog/view/theme/pavilion/');$sReg.set('/tb/image_url','https://www.craftstore.gr/image/');$sReg.set('/tb/shopping_cart_url','https://www.craftstore.gr/index.php?route=checkout/cart');$sReg.set('/tb/wishlist_url','https://www.craftstore.gr/index.php?route=account/wishlist');$sReg.set('/tb/compare_url','https://www.craftstore.gr/index.php?route=product/compare');$sReg.set('/tb/no_image','https://www.craftstore.gr/image/cache/no_image-100x100_0.jpg');$sReg.set('/tb/msg_position','topRight');$sReg.set('/tb/msg_stack','1');$sReg.set('/tb/msg_timeout','5000');$sReg.set('/lang/text_failure','Αποτυχία');$sReg.set('/lang/text_continue','Συνέχεια');$sReg.set('/lang/text_continue_shopping','Συνέχεια αγορών');$sReg.set('/lang/text_shopping_cart','Καλάθι Αγορών');$sReg.set('/lang/text_wishlist','Wishlist');$sReg.set('/lang/text_cart_updated','Το Καλάθι ενημερώθηκε!');$sReg.set('/lang/text_wishlist_updated','Ενημερώθηκε η Wishlist!');$sReg.set('/lang/text_compare_updated','Compare list updated!');$sReg.set('/lang/text_product_comparison','Compare list');$sReg.set('/lang/text_previous','Προηγούμενο');$sReg.set('/lang/text_next','Επόμενο');},true);
(function($,window,undefined){var namespace="mightySlider",minnamespace="mS",isTouch=!!("ontouchstart" in window),videoRegularExpressions=[{reg:/youtu\.be\//i,split:"/",index:3,iframe:1,url:"https://www.youtube.com/embed/{id}?autoplay=1&fs=1&rel=0&enablejsapi=1&wmode=opaque"},{reg:/youtube\.com\/watch/i,split:"=",index:1,iframe:1,url:"https://www.youtube.com/embed/{id}?autoplay=1&fs=1&rel=0&enablejsapi=1&wmode=opaque"},{reg:/vimeo\.com\//i,split:"/",index:3,iframe:1,url:"https://player.vimeo.com/video/{id}?hd=1&autoplay=1&show_title=1&show_byline=1&show_portrait=0&color=&fullscreen=1"},{reg:/metacafe\.com\/watch/i,split:"/",index:4,url:"http://www.metacafe.com/fplayer/{id}/.swf?playerVars=autoPlay=yes"},{reg:/dailymotion\.com\/video/i,split:"/",index:4,url:"http://www.dailymotion.com/swf/video/{id}?additionalInfos=0&autoStart=1"},{reg:/gametrailers\.com/i,split:"/",index:5,url:"http://www.gametrailers.com/remote_wrap.php?mid={id}"},{reg:/collegehumor\.com\/video\//i,split:"video/",index:1,url:"http://www.collegehumor.com/moogaloop/moogaloop.jukebox.swf?autostart=true&fullscreen=1&use_node_id=true&clip_id={id}"},{reg:/collegehumor\.com\/video:/i,split:"video:",index:1,url:"http://www.collegehumor.com/moogaloop/moogaloop.swf?autoplay=true&fullscreen=1&clip_id={id}"},{reg:/ustream\.tv/i,split:"/",index:4,url:"http://www.ustream.tv/flash/video/{id}?loc=%2F&autoplay=true&vid={id}&disabledComment=true&beginPercent=0.5331&endPercent=0.6292&locale=en_US"},{reg:/twitvid\.com/i,split:"/",index:3,url:"http://www.twitvid.com/player/{id}"},{reg:/v\.wordpress\.com/i,split:"/",index:3,url:"http://s0.videopress.com/player.swf?guid={id}&v=1.01"},{reg:/google\.com\/videoplay/i,split:"=",index:1,url:"http://video.google.com/googleplayer.swf?autoplay=1&hl=en&docId={id}"},{reg:/vzaar\.com\/videos/i,split:"/",index:4,url:"http://view.vzaar.com/{id}.flashplayer?autoplay=true&border=none"}],JSONReader="http://mightyslider.com/getJSON.php?url={URL}",photoRegularExpressions=[{reg:/vimeo\.com\//i,oembed:"https://vimeo.com/api/oembed.json?url={URL}",inJSON:"thumbnail_url"},{reg:/youtube\.com\/watch/i,oembed:"https://www.youtube.com/oembed?url={URL}&format=json",inJSON:"thumbnail_url",replace:{from:"hqdefault.jpg",to:"maxresdefault.jpg"}},{reg:/dailymotion\.com\/video/i,oembed:"http://www.dailymotion.com/services/oembed?format=json&url={URL}",inJSON:"url"},{reg:/500px\.com\/photo\/([0-9]+)/i,oembed:"{URL}/oembed.json",inJSON:"thumbnail_url",replace:{from:"3.jpg",to:"5.jpg"}},{reg:/flickr\.com\/photos\/([^\/]+)\/([0-9]+)/i,oembed:"http://www.flickr.com/services/oembed?url={URL}&format=json",inJSON:"url"},{reg:/instagram\.com\/p\//i,oembed:"http://api.instagram.com/oembed?url={URL}",inJSON:"url"}],videoTypes={avi:"video/msvideo",mov:"video/quicktime",mpg:"video/mpeg",mpeg:"video/mpeg",mp4:"video/mp4",webm:"video/webm",ogv:"video/ogg","3gp":"video/3gpp",m4v:"video/x-m4v"},tmpArray=[],interactiveElements=["INPUT","SELECT","BUTTON","TEXTAREA"],time,videoDefaultAttributes={width:"100%",height:"100%",preload:"preload",autoplay:"autoplay",controls:"controls"},iframeDefaultAttributes={width:"100%",height:"100%",frameborder:0,webkitAllowFullScreen:true,mozallowfullscreen:true,allowFullScreen:true},embedDefaultAttributes={width:"100%",height:"100%",bgcolor:"#000000",quality:"high",play:true,loop:true,menu:true,wmode:"transparent",scale:"showall",allowScriptAccess:"always",allowFullScreen:true,fullscreen:"yes"},captionResponsiveStyles=["width","height","lineHeight","fontSize","fontSize","top","left","bottom","right","paddingTop","paddingLeft","paddingBottom","paddingRight"],$win=$(window),$doc=$(document),clickEvent="click."+namespace+" tap."+namespace,mouseDownEvent="touchstart."+namespace+" mousedown."+namespace,mouseScrollEvent=($.fn.mousewheel)?"mousewheel."+namespace:"DOMMouseScroll."+namespace+" mousewheel."+namespace,dragInitEvents="touchstart."+namespace+" mousedown."+namespace,dragMouseEvents="mousemove."+namespace+" mouseup."+namespace,dragTouchEvents="touchmove."+namespace+" touchend."+namespace,keyDownEvent="keydown."+namespace,resizeEvent="resize."+namespace,hashChangeEvent="hashchange."+namespace,hoverEvent="mouseenter."+namespace+" mouseleave."+namespace,requestAnimationFrame=window.requestAnimationFrame,cancelAnimationFrame=window.cancelAnimationFrame||window.cancelRequestAnimationFrame,browser,transform,gpuAcceleration,browserPlugins,fullScreenApi;function mightySlider(frame,options,callbackMap){var self=this;self.options=$.extend(true,{},mightySlider.defaults,options);var $frame=$(frame),$parent=$(frame).parent(),$slideElement=$frame.children().eq(0),frameInlineOptions=getInlineOptions($frame),autoScale=self.options.autoScale&&(frameInlineOptions.height&&{width:frameInlineOptions.width,height:frameInlineOptions.height}||{width:$parent.width(),height:$parent.height()})||null,frameSize=0,frameRatio=1,slideElementSize=0;self.position={current:0,start:0,center:0,end:0,destination:0};var $slides=0;self.slides=[];self.relative={activeSlide:-1,firstSlide:0,centerSlide:0,lastSlide:0,activePage:0};var basicNav=self.options.navigation.navigationType==="basic",forceCenteredNav=self.options.navigation.navigationType==="forceCentered",centeredNav=self.options.navigation.navigationType==="centered"||forceCenteredNav,navigationType=(basicNav||centeredNav||forceCenteredNav),$pagesBar=self.options.pages.pagesBar&&$(self.options.pages.pagesBar)||{},$pages=0;self.pages=[];var $thumbnailsBar=self.options.thumbnails.thumbnailsBar&&$(self.options.thumbnails.thumbnailsBar)||{},$thumbnails=0;self.thumbnails=[];var thumbnailNav=null,thumbnailNavOptions={},$scrollSource=self.options.scrolling.scrollSource&&$(self.options.scrolling.scrollSource)||$frame,$dragSource=self.options.dragging.dragSource&&$(self.options.dragging.dragSource)||$frame,dragging={released:1},$forwardButton=$(self.options.buttons.forward),$backwardButton=$(self.options.buttons.backward),$prevButton=$(self.options.buttons.prev),$nextButton=$(self.options.buttons.next),$prevPageButton=$(self.options.buttons.prevPage),$nextPageButton=$(self.options.buttons.nextPage),$fullScreenButton=$(self.options.buttons.fullScreen),inserted=0,hashLock=0,callbacks={},last={},animation={},move={},scrolling={last:0,delta:0,resetTime:200},renderID=0,historyID=0,cycleID=0,continuousID=0,resizeID=0,captionID=0,captionHistory=[],mediaEnabled=null,i,l;self.initialized=0;self.frame=$frame[0];self.slideElement=$slideElement[0];self.isFullScreen=0;self.isPaused=0;function load(immediate){var ignoredMargin=0;autoScale=self.options.autoScale&&(frameInlineOptions.height&&{width:frameInlineOptions.width,height:frameInlineOptions.height}||{width:$parent.width(),height:$parent.height()})||null;if(self.options.autoScale){scaleSlider()}self.position.old=$.extend({},self.position),frameSize=$frame[self.options.navigation.horizontal?"width":"height"](),slideElementSize=$slideElement[self.options.navigation.horizontal?"outerWidth":"outerHeight"](),self.pages=[],self.position.start=0,self.position.end=Math.max(slideElementSize-frameSize,0),last={};if(navigationType){var lastSlidesCount=self.slides.length;$slides=$slideElement.children(self.options.navigation.slideSelector);self.slides=[];var paddingStart=getPixel($slideElement,self.options.navigation.horizontal?"paddingLeft":"paddingTop"),paddingEnd=getPixel($slideElement,self.options.navigation.horizontal?"paddingRight":"paddingBottom"),marginStart=getPixel($slides,self.options.navigation.horizontal?"marginLeft":"marginTop"),marginEnd=getPixel($slides.slice(-1),self.options.navigation.horizontal?"marginRight":"marginBottom"),centerOffset=0,areFloated=$slides.css("float")!=="none";ignoredMargin=marginStart?0:marginEnd;slideElementSize=0;$slides.each(function(i,element){var $slide=$(element),slideOptions=getInlineOptions($slide),slideType=getSlideType(slideOptions),property=slideOptions.size||self.options.navigation.slideSize,slideMarginStart=getPixel($slide,self.options.navigation.horizontal?"marginLeft":"marginTop"),slideMarginEnd=getPixel($slide,self.options.navigation.horizontal?"marginRight":"marginBottom"),slidePaddingStart=getPixel($slide,self.options.navigation.horizontal?"paddingLeft":"paddingTop"),slidePaddingEnd=getPixel($slide,self.options.navigation.horizontal?"paddingRight":"paddingBottom"),slideBorderStart=getPixel($slide,self.options.navigation.horizontal?"borderLeftWidth":"borderTopWidth"),slideBorderEnd=getPixel($slide,self.options.navigation.horizontal?"borderRightWidth":"borderBottomWidth"),slideExtraSize=property?slidePaddingStart+slidePaddingEnd+slideBorderStart+slideBorderEnd:0,slideSize=getSlideSize($slide,property),slideData={element:element,options:slideOptions,type:slideType,captions:[],ID:slideOptions.ID&&rawurlencode(slideOptions.ID)||i,size:slideSize,half:slideSize/2,start:slideElementSize-(!i||self.options.navigation.horizontal?0:slideMarginStart),center:slideElementSize-Math.round((frameSize/2)-(slideSize/2)),end:slideElementSize-frameSize+slideSize-(marginStart?0:slideMarginEnd)};$("."+minnamespace+"Caption",$slide).each(function(index,caption){var $caption=$(caption),captionOptions=getInlineOptions($caption),captionAnimation=getCaptionOptions($caption),captionStyles=$caption.data(minnamespace+"styles"),captionData={element:caption,options:captionOptions,animation:captionAnimation};if(captionStyles&&resizeID&&self.options.autoScale){$caption.css(normalizeStyles($.extend({},captionStyles,captionAnimation[captionAnimation.length-1]&&captionAnimation[captionAnimation.length-1].style||{}),captionResponsiveStyles,frameRatio))}slideData.captions.push(captionData)});if(property){slideSize-=slideExtraSize;$slide[self.options.navigation.horizontal?"width":"height"](slideSize)}if(!i){centerOffset=-(forceCenteredNav?Math.round(frameSize/2-slideSize/2):0)+paddingStart;slideElementSize+=paddingStart}slideElementSize+=slideSize;if(property){slideElementSize+=slideMarginStart+slideMarginEnd+slidePaddingStart+slidePaddingEnd+slideBorderStart+slideBorderEnd}if(!self.options.navigation.horizontal&&!areFloated){if(slideMarginEnd&&slideMarginStart&&i>0){slideElementSize-=Math.min(slideMarginStart,slideMarginEnd)}}if(i===$slides.length-1){slideElementSize+=paddingEnd}self.slides.push(slideData)});$slideElement[0].style[self.options.navigation.horizontal?"width":"height"]=slideElementSize+"px";slideElementSize-=ignoredMargin;self.position.start=centerOffset;self.position.end=forceCenteredNav?(self.slides.length?self.slides[self.slides.length-1].center:centerOffset):Math.max(slideElementSize-frameSize,0);if(self.relative.activeSlide>=self.slides.length||lastSlidesCount===0&&self.slides.length>0&&(self.initialized&&inserted)){activate(self.slides.length>0?self.slides.length-1:0)}}self.position.center=Math.round((self.position.end/2)+(self.position.start/2));updateRelatives();if(frameSize>0){var tempPagePos=self.position.start,pagesHtml="";$.each(self.slides,function(i,slide){if(forceCenteredNav||slide.start+slide.size>tempPagePos){tempPagePos=slide[forceCenteredNav?"center":"start"];self.pages.push(tempPagePos);tempPagePos+=frameSize}});if($pagesBar[0]){for(var i=0;i<self.pages.length;i++){pagesHtml+=self.options.pages.pageBuilder.call(self,i)}$pages=$pagesBar.html(pagesHtml).children()}}if(self.slides.length>0&&(!self.initialized||(self.initialized&&inserted))){syncThumbnailsbar()}self.activate(self.relative.activeSlide,immediate);self.relative.slideElementSize=slideElementSize;self.relative.frameSize=frameSize;if(!self.initialized||(self.initialized&&inserted)){setSlidesCovers();setSlidesIcons()}if(self.options.autoResize){resizeFrame(within(self.relative.activeSlide,self.relative.firstSlide,self.relative.lastSlide),1)}if(self.initialized){repositionCovers()}trigger("load")}self.reload=load;function slideTo(newPos,immediate,dontAlign){if(dragging.released&&!dontAlign){var tempRel=getRelatives(newPos),isNotBordering=newPos>self.position.start&&newPos<self.position.end;if(centeredNav){if(isNotBordering){newPos=self.slides[tempRel.centerSlide].center}if(forceCenteredNav&&self.options.navigation.activateMiddle){activate(tempRel.centerSlide)}}else{if(isNotBordering){newPos=self.slides[tempRel.firstSlide].start}}}if(dragging.init&&dragging.slideElement&&self.options.dragging.elasticBounds){if(newPos>self.position.end){newPos=self.position.end+(newPos-self.position.end)/6}else{if(newPos<self.position.start){newPos=self.position.start+(newPos-self.position.start)/6}}}else{newPos=within(newPos,self.position.start,self.position.end)}animation.start=+new Date();animation.time=0;animation.from=self.position.current;animation.to=newPos;animation.delta=newPos-self.position.current;animation.tweesing=dragging.tweese||dragging.init&&!dragging.slideElement;animation.immediate=!animation.tweesing&&(immediate||dragging.init&&dragging.slideElement||!self.options.speed);dragging.tweese=0;if(newPos!==self.position.destination){self.position.destination=newPos;trigger("change");if(!renderID){render()}if(self.options.autoResize){resizeFrame(self.relative.activeSlide,immediate)}}resetCycle();updateRelatives();updateButtonsState();syncPagesbar()}function render(){if(!renderID){renderID=requestAnimationFrame(render);if(dragging.released){trigger("moveStart")}return}if(animation.immediate){self.position.current=animation.to}else{if(animation.tweesing){animation.tweeseDelta=animation.to-self.position.current;if(Math.abs(animation.tweeseDelta)<0.1){self.position.current=animation.to}else{self.position.current+=animation.tweeseDelta*(dragging.released?self.options.dragging.swingSpeed:self.options.dragging.syncSpeed)}}else{animation.time=Math.min(+new Date()-animation.start,self.options.speed);self.position.current=animation.from+animation.delta*jQuery.easing[self.options.easing](animation.time/self.options.speed,animation.time,0,1,self.options.speed)}}if(animation.to===self.position.current){self.position.current=animation.to;dragging.tweese=renderID=0}else{renderID=requestAnimationFrame(render)}trigger("move");if(transform){$slideElement[0].style[transform]=gpuAcceleration+(self.options.navigation.horizontal?"translateX":"translateY")+"("+(-self.position.current)+"px)"}else{$slideElement[0].style[self.options.navigation.horizontal?"left":"top"]=-Math.round(self.position.current)+"px"}if(!renderID&&dragging.released){setSlidesCovers();trigger("moveEnd")}}function syncPagesbar(){if($pages[0]&&last.page!==self.relative.activePage){last.page=self.relative.activePage;$pages.removeClass(self.options.classes.activeClass).eq(self.relative.activePage).addClass(self.options.classes.activeClass);trigger("activePage",last.page)}}function syncThumbnailsbar(){var thumbnailsHtml="";$.each(self.slides,function(i,slide){var thumbnail=slide.options.thumbnail||slide.options.cover||1;self.thumbnails.push(thumbnail);if($thumbnailsBar[0]&&thumbnail){thumbnailsHtml+=self.options.thumbnails.thumbnailBuilder.call(self,i,thumbnail)}});if($thumbnailsBar[0]){$thumbnails=$thumbnailsBar.html(thumbnailsHtml).children();if(self.options.thumbnails.thumbnailNav){if(thumbnailNav){thumbnailNav.destroy(1)}else{$.extend(true,thumbnailNavOptions,{moveBy:self.options.moveBy,speed:self.options.speed,easing:self.options.easing,startAt:self.options.startAt,navigation:{horizontal:self.options.thumbnails.horizontal,navigationType:self.options.thumbnails.thumbnailNav,slideSize:self.options.thumbnails.thumbnailSize,activateOn:self.options.thumbnails.activateOn},scrolling:{scrollBy:self.options.thumbnails.scrollBy},dragging:{mouseDragging:self.options.thumbnails.mouseDragging,touchDragging:self.options.thumbnails.touchDragging,swingSpeed:self.options.dragging.swingSpeed,elasticBounds:self.options.dragging.elasticBounds}});thumbnailNav=new mightySlider($thumbnailsBar.parent(),thumbnailNavOptions,{active:function(name,index){self.activate(index)}})}if(self.options.thumbnails.preloadThumbnails){preloadimages(self.thumbnails).done(function(){thumbnailNav.init()})}else{thumbnailNav.init()}}}}function scaleSlider(){if($parent.hasClass("fullscreen")){var scene_width=$parent.find(".ms_scene").first().width();var scene_height=$parent.find(".ms_scene").first().height();var ratio=(scene_width>=scene_height?scene_width:scene_height)/autoScale.width}else{var ratio=$parent.width()/autoScale.width}frameRatio=ratio;$frame.height(autoScale.height*ratio)}self.getSlide=function(slide){var index=getIndex(slide);return index!==-1?self.slides[index]:false};self.moveBy=function(speed){move.speed=speed;if(dragging.init||!move.speed||self.position.current===(move.speed>0?self.position.end:self.position.start)){return}move.lastTime=+new Date();move.startPos=self.position.current;continuousInit("button");dragging.init=1;trigger("moveStart");cancelAnimationFrame(continuousID);moveLoop()};function moveLoop(){if(!move.speed||self.position.current===(move.speed>0?self.position.end:self.position.start)){self.stop()}continuousID=dragging.init?requestAnimationFrame(moveLoop):0;move.now=+new Date();move.pos=self.position.current+(move.now-move.lastTime)/1000*move.speed;slideTo(dragging.init?move.pos:Math.round(move.pos));if(!dragging.init&&self.position.current===self.position.destination){trigger("moveEnd")}move.lastTime=move.now}self.stop=function(){if(dragging.source==="button"){dragging.init=0;dragging.released=1}};self.prev=function(immediate){self.activate(self.relative.activeSlide-1,immediate)};self.next=function(immediate){self.activate(self.relative.activeSlide+1,immediate)};self.prevPage=function(immediate){self.activatePage(self.relative.activePage-1,immediate)};self.nextPage=function(immediate){self.activatePage(self.relative.activePage+1,immediate)};self.slideBy=function(delta,immediate){if(!delta){return}if(navigationType){self[centeredNav?"toCenter":"toStart"](within((centeredNav?self.relative.centerSlide:self.relative.firstSlide)+self.options.scrolling.scrollBy*delta,0,self.slides.length))}else{slideTo(self.position.destination+delta,immediate)}};self.slideTo=function(position,immediate){slideTo(position,immediate)};function to(location,slide,immediate){if(type(slide)==="boolean"){immediate=slide;slide=undefined}if(slide===undefined){slideTo(self.position[location],immediate)}else{if(centeredNav&&location!=="center"){return}var slideObj=self.getSlide(slide);if(slideObj){slideTo(slideObj[location],immediate,!centeredNav)}}}self.toStart=function(slide,immediate){to("start",slide,immediate)};self.toEnd=function(slide,immediate){to("end",slide,immediate)};self.toCenter=function(slide,immediate){to("center",slide,immediate)};function getIndex(slide){return type(slide)!=="undefined"?is_numeric(slide)?slide>=0&&slide<self.slides.length?slide:-1:$slides.index(slide):-1}self.getIndex=getIndex;function getRelativeIndex(slide){return getIndex(is_numeric(slide)&&slide<0?slide+self.slides.length:slide)}function activate(slide){var index=getIndex(slide);if(!navigationType||index<0){return false}if(last.active!==index){$slides.eq(self.relative.activeSlide).removeClass(self.options.classes.activeClass);$slides.eq(index).addClass(self.options.classes.activeClass);if(!resizeID){clearCaptions(last.active)}last.active=self.relative.activeSlide=index;updateButtonsState();if(!resizeID&&mediaEnabled){removeContent()}if(captionID){captionID=clearTimeout(captionID)}if(self.slides[index].captions.length&&!resizeID){captionID=setTimeout(function(){renderCaptions(index);captionID=clearTimeout(captionID)},self.options.speed+100)}if(self.options.deeplinking.linkID&&!resizeID&&!hashLock&&self.initialized){changeHashtag(index)}trigger("active",index)}return index}self.activate=function(slide,immediate){var index=activate(slide);if(self.options.navigation.smart&&index!==false){if(centeredNav){self.toCenter(index,immediate)}else{if(index>=self.relative.lastSlide){self.toStart(index,immediate)}else{if(index<=self.relative.firstSlide){self.toEnd(index,immediate)}else{resetCycle()}}}}};self.activatePage=function(index,immediate){if(is_numeric(index)){slideTo(self.pages[within(index,0,self.pages.length-1)],immediate)}};function getRelatives(slideElementPos){slideElementPos=within(is_numeric(slideElementPos)?slideElementPos:self.position.destination,self.position.start,self.position.end);var relatives={},centerOffset=forceCenteredNav?0:frameSize/2;for(var p=0,pl=self.pages.length;p<pl;p++){if(slideElementPos>=self.position.end||p===self.pages.length-1){relatives.activePage=self.pages.length-1;break}if(slideElementPos<=self.pages[p]+centerOffset){relatives.activePage=p;break}}var first=false,last=false,center=false;for(var i=0,il=self.slides.length;i<il;i++){if(first===false&&slideElementPos<=self.slides[i].start+self.slides[i].half){first=i}if(center===false&&slideElementPos<=self.slides[i].center+self.slides[i].half){center=i}if(i===il-1||slideElementPos<=self.slides[i].end+self.slides[i].half){last=i;break}}relatives.firstSlide=is_numeric(first)?first:0;relatives.centerSlide=is_numeric(center)?center:relatives.firstSlide;relatives.lastSlide=is_numeric(last)?last:relatives.centerSlide;return relatives}function updateRelatives(newPos){$.extend(self.relative,getRelatives(newPos))}function updateButtonsState(){var isStart=self.position.destination<=self.position.start,isEnd=self.position.destination>=self.position.end,slideElementPosState=isStart?1:isEnd?2:3;if(last.slideElementPosState!==slideElementPosState){last.slideElementPosState=slideElementPosState;$prevPageButton.prop("disabled",isStart).add($backwardButton)[isStart?"addClass":"removeClass"](self.options.classes.disabledClass);$nextPageButton.prop("disabled",isEnd).add($forwardButton)[isEnd?"addClass":"removeClass"](self.options.classes.disabledClass)}if(last.fwdbwdState!==slideElementPosState&&dragging.released){last.fwdbwdState=slideElementPosState;$backwardButton.prop("disabled",isStart);$forwardButton.prop("disabled",isEnd)}var isFirst=self.relative.activeSlide===0,isLast=self.relative.activeSlide>=self.slides.length-1,slidesButtonState=isFirst?1:isLast?2:3;if(last.slidesButtonState!==slidesButtonState){last.slidesButtonState=slidesButtonState;$prevButton[isFirst?"addClass":"removeClass"](self.options.classes.disabledClass).prop("disabled",isFirst);$nextButton[isLast?"addClass":"removeClass"](self.options.classes.disabledClass).prop("disabled",isLast)}}self.resume=function(priority){if(!self.options.cycling.cycleBy||!self.options.cycling.pauseTime||self.options.cycling.cycleBy==="slides"&&!self.slides[0]||priority<self.isPaused){return}self.isPaused=0;if(cycleID){cycleID=clearTimeout(cycleID)}else{trigger("resume")}cycleID=setTimeout(function(){trigger("cycle");switch(self.options.cycling.cycleBy){case"slides":self.activate(self.relative.activeSlide>=self.slides.length-1?0:self.relative.activeSlide+1);break;case"pages":self.activatePage(self.relative.activePage>=self.pages.length-1?0:self.relative.activePage+1);break}},self.options.cycling.pauseTime)};self.pause=function(priority){if(priority<self.isPaused){return}self.isPaused=priority||100;if(cycleID){cycleID=clearTimeout(cycleID);trigger("pause")}};self.toggleCycling=function(){self[cycleID?"pause":"resume"]()};self.enterFullScreen=function(){if(!self.isFullScreen){$parent.addClass(self.options.classes.isInFullScreen);if(fullScreenApi.supportsFullScreen){fullScreenApi.requestFullScreen($parent[0])}else{$win.triggerHandler("resize")}self.isFullScreen=1;trigger("enterFullScreen")}};self.exitFullScreen=function(){if(self.isFullScreen){$parent.removeClass(self.options.classes.isInFullScreen);if(fullScreenApi.supportsFullScreen){fullScreenApi.cancelFullScreen($parent[0])}else{$win.triggerHandler("resize")}self.isFullScreen=0;trigger("exitFullScreen")}};self.toggleFullScreen=function(){self[self.isFullScreen?"exitFullScreen":"enterFullScreen"]()};self.set=function(name,value){if($.isPlainObject(name)){$.extend(true,self.options,name)}else{if(self.options.hasOwnProperty(name)){self.options[name]=value}}if(thumbnailNav){$.extend(true,thumbnailNavOptions,{moveBy:self.options.moveBy,speed:self.options.speed,easing:self.options.easing,startAt:self.options.startAt,navigation:{horizontal:self.options.thumbnails.horizontal,navigationType:self.options.thumbnails.thumbnailNav,slideSize:self.options.thumbnails.thumbnailSize,activateOn:self.options.thumbnails.activateOn},scrolling:{scrollBy:self.options.thumbnails.scrollBy},dragging:{mouseDragging:self.options.thumbnails.mouseDragging,touchDragging:self.options.thumbnails.touchDragging,swingSpeed:self.options.dragging.swingSpeed,elasticBounds:self.options.dragging.elasticBounds}});thumbnailNav.set(thumbnailNavOptions)}load()};self.add=function(element,index){var $element=$(element);if(type(index)==="undefined"||!self.slides[0]){$element.appendTo($slideElement)}else{if(self.slides.length){$element.insertBefore(self.slides[index].element)}}if(index<=self.relative.activeSlide){last.active=self.relative.activeSlide+=$element.length}inserted=1;load();inserted=0};self.remove=function(element){var index=getRelativeIndex(element);if(index>-1){$slides.eq(index).remove();var reactivate=index===self.relative.activeSlide&&!(forceCenteredNav&&self.options.navigation.activateMiddle);if(index<self.relative.activeSlide||self.relative.activeSlide>=self.slides.length-1){last.active=--self.relative.activeSlide}load();if(reactivate){self.activate(self.relative.activeSlide)}}};function move(slide,position,after){slide=getRelativeIndex(slide);position=getRelativeIndex(position);if(slide>-1&&position>-1&&slide!==position&&(!after||position!==slide-1)&&(after||position!==slide+1)){$slides.eq(slide)[after?"insertAfter":"insertBefore"](self.slides[position].element);var shiftStart=slide<position?slide:(after?position:position-1),shiftEnd=slide>position?slide:(after?position+1:position),shiftsUp=slide>position;if(slide===self.relative.activeSlide){last.active=self.relative.activeSlide=after?(shiftsUp?position+1:position):(shiftsUp?position:position-1)}else{if(self.relative.activeSlide>shiftStart&&self.relative.activeSlide<shiftEnd){last.active=self.relative.activeSlide+=shiftsUp?1:-1}}load()}}self.moveAfter=function(slide,position){move(slide,position,1)};self.moveBefore=function(slide,position){move(slide,position)};self.one=function(name,fn){function proxy(){fn.apply(self,arguments);self.off(name,proxy)}self.on(name,proxy)};self.on=function(name,fn){if(type(name)==="object"){for(var key in name){if(name.hasOwnProperty(key)){self.on(key,name[key])}}}else{if(type(fn)==="function"){var names=name.split(" ");for(var n=0,nl=names.length;n<nl;n++){callbacks[names[n]]=callbacks[names[n]]||[];if(callbackIndex(names[n],fn)===-1){callbacks[names[n]].push(fn)}}}else{if(type(fn)==="array"){for(var f=0,fl=fn.length;f<fl;f++){self.on(name,fn[f])}}}}};self.off=function(name,fn){if(fn instanceof Array){for(var f=0,fl=fn.length;f<fl;f++){self.off(name,fn[f])}}else{var names=name.split(" ");for(var n=0,nl=names.length;n<nl;n++){callbacks[names[n]]=callbacks[names[n]]||[];if(type(fn)==="undefined"){callbacks[names[n]].length=0}else{var index=callbackIndex(names[n],fn);if(index!==-1){callbacks[names[n]].splice(index,1)}}}}};function callbackIndex(name,fn){for(var i=0,l=callbacks[name].length;i<l;i++){if(callbacks[name][i]===fn){return i}}return -1}function resetCycle(){if(dragging.released&&!self.isPaused){self.resume()}}function draggingHistoryTick(){dragging.history[0]=dragging.history[1];dragging.history[1]=dragging.history[2];dragging.history[2]=dragging.history[3];dragging.history[3]=dragging.delta}function continuousInit(source){dragging.released=0;dragging.source=source;dragging.slideElement=source==="slideElement"}function dragInit(event){if(dragging.init||mediaEnabled||isInteractive(event.target)){return}var isTouch=event.type==="touchstart",source=event.data.source;if(!(isTouch?self.options.dragging.touchDragging:self.options.dragging.mouseDragging&&event.which<2)){return}if(!isTouch){stopDefault(event,1)}continuousInit(source);dragging.init=1;dragging.$source=$(event.target);dragging.touch=isTouch;dragging.pointer=isTouch?event.originalEvent.touches[0]:event;dragging.initX=dragging.pointer.pageX;dragging.initY=dragging.pointer.pageY;dragging.initPos=self.position.current;dragging.start=+new Date();dragging.time=0;dragging.path=0;dragging.delta=0;dragging.locked=0;dragging.history=[0,0,0,0];dragging.pathToLock=isTouch?30:10;dragging.initLoc=dragging[self.options.navigation.horizontal?"initX":"initY"];dragging.deltaMin=-dragging.initLoc;dragging.deltaMax=document[self.options.navigation.horizontal?"width":"height"]-dragging.initLoc;$doc.on(isTouch?dragTouchEvents:dragMouseEvents,dragHandler);self.pause(1);$slideElement.addClass(self.options.classes.draggedClass);trigger("moveStart");historyID=setInterval(draggingHistoryTick,10)}function dragHandler(event){dragging.released=event.type==="mouseup"||event.type==="touchend";dragging.pointer=dragging.touch?event.originalEvent[dragging.released?"changedTouches":"touches"][0]:event;dragging.pathX=dragging.pointer.pageX-dragging.initX;dragging.pathY=dragging.pointer.pageY-dragging.initY;dragging.path=Math.sqrt(Math.pow(dragging.pathX,2)+Math.pow(dragging.pathY,2));dragging.delta=within(self.options.navigation.horizontal?dragging.pathX:dragging.pathY,dragging.deltaMin,dragging.deltaMax);if(!dragging.locked&&dragging.path>dragging.pathToLock){dragging.locked=1;if(self.options.navigation.horizontal?Math.abs(dragging.pathX)<Math.abs(dragging.pathY):Math.abs(dragging.pathX)>Math.abs(dragging.pathY)){dragging.released=1}else{if(dragging.slideElement){dragging.$source.on(clickEvent,disableOneEvent)}}}if(dragging.released){if(!dragging.touch){stopDefault(event)}dragEnd();if(self.options.dragging.releaseSwing&&dragging.slideElement){dragging.swing=(dragging.delta-dragging.history[0])*self.options.dragging.swingSync;dragging.delta+=dragging.swing;dragging.tweese=Math.abs(dragging.swing)>10}}else{stopDefault(event)}slideTo(Math.round(dragging.initPos-dragging.delta))}function dragEnd(){clearInterval(historyID);$doc.off(dragging.touch?dragTouchEvents:dragMouseEvents,dragHandler);$slideElement.removeClass(self.options.classes.draggedClass);self.resume(1);if(self.position.current===self.position.destination&&dragging.init){trigger("moveEnd")}dragging.init=0}function isInteractive(element){return ~$.inArray(element.nodeName,interactiveElements)||$(element).is(self.options.dragging.interactive)}function movementReleaseHandler(){self.stop();$doc.off("mouseup",movementReleaseHandler)}function buttonsHandler(event){stopDefault(event);switch(this){case $forwardButton[0]:case $backwardButton[0]:self.moveBy($forwardButton.is(this)?self.options.moveBy:-self.options.moveBy);$doc.on("mouseup",movementReleaseHandler);break;case $prevButton[0]:self.prev();break;case $nextButton[0]:self.next();break;case $prevPageButton[0]:self.prevPage();break;case $nextPageButton[0]:self.nextPage();break;case $fullScreenButton[0]:self.toggleFullScreen();break}}function normalizeWheelDelta(event){scrolling.curDelta=event.wheelDelta?-event.wheelDelta/120:(event.detail||event.deltaY)/3;if(!navigationType){return scrolling.curDelta}time=+new Date();if(scrolling.last<time-scrolling.resetTime){scrolling.delta=0}scrolling.last=time;scrolling.delta+=scrolling.curDelta;if(Math.abs(scrolling.delta)<1){scrolling.finalDelta=0}else{scrolling.finalDelta=Math.round(scrolling.delta/1);scrolling.delta%=1}return scrolling.finalDelta}function scrollHandler(event){if(!self.options.scrolling.scrollBy||self.position.start===self.position.end){return}stopDefault(event,1);self.slideBy(self.options.scrolling.scrollBy*normalizeWheelDelta(event.originalEvent))}function keyboardHandler(event){if(!self.options.navigation.keyboardNavBy){return}switch(event.which){case self.options.navigation.horizontal?37:38:stopDefault(event);self[self.options.navigation.keyboardNavBy==="pages"?"prevPage":"prev"]();break;case self.options.navigation.horizontal?39:40:stopDefault(event);self[self.options.navigation.keyboardNavBy==="pages"?"nextPage":"next"]();break}}function iconsHandler(event){var $this=$(this);if($this.hasClass(minnamespace+"Close")){removeContent()}else{insertContent($this.parent()[0])}return false}function winResizeHandler(){if(resizeID){resizeID=clearTimeout(resizeID)}resizeID=setTimeout(function(){self.reload(true);if(thumbnailNav){thumbnailNav.reload(true)}trigger("resize");resizeID=clearTimeout(resizeID)},100)}function winfullScreenHandler(){if(!fullScreenApi.isFullScreen()){self.exitFullScreen()}}function activateHandler(){if(isInteractive(this)){event.stopPropagation();return}if(this.parentNode===$slideElement[0]){self.activate(this)}}function activatePageHandler(){if(this.parentNode===$pagesBar[0]){self.activatePage($pages.index(this))}}function pauseOnHoverHandler(event){if(self.options.cycling.pauseOnHover){self[event.type==="mouseenter"?"pause":"resume"](2)}}function trigger(name,arg1){if(callbacks[name]){l=callbacks[name].length;tmpArray.length=0;for(i=0;i<l;i++){tmpArray.push(callbacks[name][i])}for(i=0;i<l;i++){tmpArray[i].call(self,name,arg1)}}}function getSlideSize($slide,property){return parseInt(property?property.indexOf("%")!==-1?percentToValue(property.replace("%",""),frameSize):property:$slide[self.options.navigation.horizontal?"outerWidth":"outerHeight"](true))}function slidesInRange(start,end){var slides=[];$.each(self.slides,function(i,slide){var slideStart=slide.start,slideEnd=slideStart+slide.size;if((slideStart>=start&&slideEnd<=end)||(slideEnd>=start&&slideStart<=start)||(slideStart<=end&&slideEnd>=end)){slides.push(slide)}});return slides}function setSlidesCovers(){var start=within(self.position.current,self.position.start,self.position.end+frameSize),end=within(self.position.current+frameSize,self.position.start,self.position.end+frameSize),slides=slidesInRange(start,end);function setCover(obj){if(obj.cover){var loader=showLoader(obj.SlideEl);preloadimages(obj.cover).done(function(img){var $cover=$('<div class="'+minnamespace+'Cover"><img src="'+obj.cover+'" ondragstart="return false" /></div>'),$image=$("img",$cover);$cover.css({width:"100%",height:"100%",overflow:"hidden"});hideLoader(loader);$image.data({naturalWidth:img[0].width,naturalHeight:img[0].height});obj.SlideEl.prepend($cover);repositionCovers(obj.slide);trigger("coverLoaded",obj.index)})}}function eachHandler(i,slide){if(slide.type==="content"){return true}var $slide=$(slide.element),processed=$slide.data("processed");if(processed){return true}var cover=slide.options.cover||parsePhotoURL(slide.options.video)&&slide.options.video,parsed=parsePhotoURL(cover);if(parsed){var loader=showLoader($slide);doAjax(parsed.oembed,function(data){hideLoader(loader);if(data){cover=data[parsed.inJSON];if(parsed.replace){cover=cover.replace(parsed.replace.from,parsed.replace.to)}slide.options.cover=cover;setCover({cover:cover,slide:slide,SlideEl:$slide,index:i})}})}else{setCover({cover:cover,slide:slide,SlideEl:$slide,index:i})}$slide.data("processed",1)}$.each(slides,eachHandler)}function setSlidesIcons(){function eachHandler(i,slide){if(slide.type==="content"){return true}var $slide=$(slide.element),icon=slide.options.icon||slide.type;if($("."+minnamespace+ucfirst(icon),$slide)[0]){return true}if(icon!=="content"&&icon!=="image"){var $icon=createSlideIcon($slide,icon);if(icon!=="link"){$icon.bind(clickEvent,iconsHandler)}}}$.each(self.slides,eachHandler)}function createSlideIcon($slide,icon){var iconName=minnamespace+ucfirst(icon);if($("."+iconName,$slide).length){return}var $icon=$('<a class="'+minnamespace+"Icon "+iconName+'"></a>');if(icon==="link"){var index=getIndex($slide),slide=self.slides[index],href=slide.options.link.url&&absolutizeURI(slide.options.link.url)||window.location.href,target=slide.options.link.target||null,attributes=$.extend(true,{href:href,target:target},slide.options.link);if(attributes.url){delete attributes.url}$icon[$.fn.attr?"attr":"prop"](attributes)}$slide.append($icon);return $icon}function insertContent(slide){var index=getIndex(slide);if(mediaEnabled){removeContent()}slide=self.slides[index];var $slide=$(slide.element);$slide.children().hide();var mediaContent=generateContent(index),closeButton=$('<a class="'+minnamespace+"Icon "+minnamespace+'Close"></a>');$slide.prepend(mediaContent).prepend(closeButton);closeButton.bind(clickEvent,iconsHandler);$parent.addClass(minnamespace+"Media");clearCaptions(self.relative.activeSlide);self.pause();mediaEnabled=mediaContent}function removeContent(){var $slide=mediaEnabled.parent();mediaEnabled.remove();mediaEnabled=null;$("."+minnamespace+"Close",$slide).unbind(clickEvent).remove();$parent.removeClass(minnamespace+"Media");$slide.children().show();self.resume();if(!captionID){renderCaptions(self.relative.activeSlide)}}function generateContent(slide){var index=getIndex(slide);slide=self.slides[index];var type=slide.type,slideOptions=slide.options,URL=slideOptions.mp4||slideOptions.video||slideOptions.source,$content;switch(type){case"video":var extension=pathinfo(URL,"PATHINFO_EXTENSION"),videoFrame=slideOptions.videoFrame,mp4=slideOptions.mp4,webm=slideOptions.webm,ogv=slideOptions.ogv,localVideo=mp4||webm||ogv||0,parsedVideo=parseVideoURL(URL);extension=($.isPlainObject(extension))?null:extension.toLowerCase();if((/^(avi|mov|mpg|mpeg|mp4|webm|ogv|3gp|m4v)$/i).test(extension)||videoFrame||mp4||webm||ogv){if(videoFrame||(localVideo&&self.options.videoFrame)){var source=videoFrame||self.options.videoFrame,mediaFiles=[];if(mp4){mediaFiles.push({type:videoTypes.mp4,src:absolutizeURI(mp4)})}if(webm){mediaFiles.push({type:videoTypes.webm,src:absolutizeURI(webm)})}if(ogv){mediaFiles.push({type:videoTypes.ogv,src:absolutizeURI(ogv)})}if(mediaFiles.length>0){source+=(parse_url(source,"QUERY")?"&":"?")+minnamespace.toLowerCase()+"videos="+rawurlencode(JSON.stringify(mediaFiles));if(slideOptions.cover){source+="&"+minnamespace.toLowerCase()+"cover="+rawurlencode(absolutizeURI(slideOptions.cover))}}$content=$(createElement("iframe",{src:source,scrolling:"no"}))}else{if(canPlayType(videoTypes[extension])||(mp4&&canPlayType(videoTypes.mp4))||(webm&&canPlayType(videoTypes.webm))||(ogv&&canPlayType(videoTypes.ogv))){var innerTags=[{name:"source",type:mp4&&videoTypes.mp4||videoTypes[extension],src:URL}];if(webm){innerTags.push({name:"source",type:videoTypes.webm,src:webm})}if(ogv){innerTags.push({name:"source",type:videoTypes.ogv,src:ogv})}if(slideOptions.HTML5Video){$.each(slideOptions.HTML5Video,function(key,value){innerTags.push($.extend({},{name:key},value))})}$content=$(createElement("video",{},innerTags))}else{if(browserPlugins.quicktime){$content=$(QT_GenerateOBJECTText(URL,"100%","100%","","SCALE","aspect","AUTOPLAY","true","LOOP","false"))}else{throw"You need to install QuickTime for playing this video!"}}}}else{if(parsedVideo){$content=$(createElement(parsedVideo.type,{src:parsedVideo.source,scrolling:"no"}))}else{throw"Video not supported!"}}break;case"iframe":$content=$(createElement("iframe",{src:URL}));break;case"flash":$content=$(createElement("embed",{src:URL,flashvars:slideOptions.flashvars||null}));break}return $content}function repositionCovers(slide){var newSlides=(slide)?[slide]:self.slides;function eachHandler(i,slide){if(slide.type==="content"){return true}var $slide=$(slide.element),$cover=$("."+minnamespace+"Cover img",$slide);if(!$cover[0]){return true}var viewport=(slide.options.viewport||self.options.viewport).toLowerCase(),coverData=$cover.data(),slideWidth=$slide.width(),slideHeight=$slide.height(),width=slideWidth,height=slideHeight,marginLeft=0,marginTop=0;if(viewport==="fit"){var newDimensions=calculateDimensions(width,height,coverData.naturalWidth,coverData.naturalHeight);width=newDimensions.width,height=newDimensions.height}else{if(viewport==="fill"){height=(width/coverData.naturalWidth)*coverData.naturalHeight;if(height<slideHeight){width=(slideHeight/coverData.naturalHeight)*coverData.naturalWidth,height=slideHeight}}else{if(viewport==="center"){var newDimensions=calculateDimensions(width,height,coverData.naturalWidth,coverData.naturalHeight,1);width=coverData.naturalWidth,height=coverData.naturalHeight}}}marginTop=((slideHeight>height)?slideHeight-height:-(height-slideHeight))/2,marginLeft=((slideWidth>width)?slideWidth-width:-(width-slideWidth))/2;$cover.css({width:width,height:height,marginTop:marginTop,marginLeft:marginLeft})}$.each(newSlides,eachHandler)}function resizeFrame(slide,immediate){var index=getIndex(slide),slideSize=$(self.slides[index].element)[self.options.navigation.horizontal?"outerHeight":"outerWidth"](),properties={};properties[self.options.navigation.horizontal?"height":"width"]=slideSize;$frame.stop().animate(properties,immediate?0:self.options.speed,self.options.easing)}function normalizeElements(){if(self.options.commands.thumbnails&&!$thumbnailsBar[0]){$thumbnailsBar=$("<ul></ul>");$parent.append($('<div class="'+minnamespace+'Thumbnails"></div>').html($thumbnailsBar))}if(self.options.commands.pages&&!$pagesBar[0]){$pagesBar=$('<ul class="'+minnamespace+'Pages"></ul>');$parent.append($pagesBar)}if(self.options.commands.buttons&&navigationType&&!$nextPageButton[0]){$nextPageButton=$('<a class="'+minnamespace+"Buttons "+minnamespace+'Next"></a>');$parent.append($nextPageButton)}if(self.options.commands.buttons&&navigationType&&!$prevPageButton[0]){$prevPageButton=$('<a class="'+minnamespace+"Buttons "+minnamespace+'Prev"></a>');$parent.append($prevPageButton)}if(self.options.commands.buttons&&!navigationType&&!$forwardButton[0]){$forwardButton=$('<a class="'+minnamespace+"Buttons "+minnamespace+'Next"></a>');$parent.append($forwardButton)}if(self.options.commands.buttons&&!navigationType&&!$backwardButton[0]){$backwardButton=$('<a class="'+minnamespace+"Buttons "+minnamespace+'Prev"></a>');$parent.append($backwardButton)}}function renderCaptions(slide){var index=getIndex(slide),slide=self.slides[index],$slide=$(slide.element),captions=slide.captions;function eachHandler(i,caption){var $caption=$(caption.element),captionData=$caption.data(minnamespace+"styles");captionHistory[i]={frames:caption.animation.length,timeOut:null};var css={position:"absolute"};$caption.show().addClass(self.options.classes.showedCaptionsClass).css(css);if(!captionData){captionData=getCaptionStyles($caption);$caption.data(minnamespace+"styles",captionData)}if(self.options.autoScale){css=$.extend({},css,normalizeStyles(captionData,captionResponsiveStyles,frameRatio));$caption.css(css)}animateCaption($slide,$caption,i)}$.each(captions,eachHandler)}function clearCaptions(slide){var index=getIndex(slide);if(self.slides[index]&&self.slides[index].captions.length){$slides.eq(index).find("."+minnamespace+"Caption").stop().removeAttr("style").hide().removeClass(self.options.classes.showedCaptionsClass);$.each(captionHistory,function(i,history){clearTimeout(history.timeOut)});captionHistory=[]}}function animateCaption($slide,$caption,i,repeated){var slide=self.slides[self.relative.activeSlide],caption=slide.captions[i],options=caption.options,startAt=repeated&&options.startAtOnRepeat||0;if(startAt&&caption.animation.length===captionHistory[i].frames){captionHistory[i].frames=caption.animation.length-startAt}var animationFrame=caption.animation.length-captionHistory[i].frames,animation=caption.animation[animationFrame]||{},style=animation.style&&$.extend({},animation.style,normalizeStyles(animation.style,captionResponsiveStyles,frameRatio))||{};captionHistory[i].timeOut=setTimeout(function(){$caption.stop().animate(style,animation.speed||0,animation.easing||"swing",function(){captionHistory[i].frames--;if(captionHistory[i].frames>0||options.loop){if(options.loop&&captionHistory[i].frames===0){captionHistory[i].frames=caption.animation.length;repeated=1}animateCaption($slide,$caption,i,repeated)}})},(repeated&&options.dontDelayOnRepeat&&animationFrame===startAt)?0:animation.delay||0)}function changeHashtag(index){var slide=self.slides[index];hashLock=1;window.location.hash=self.options.deeplinking.linkID+self.options.deeplinking.separator+slide.ID;hashLock=0}function getSlideById(ID){var index=0;$.each(self.slides,function(i,slide){if(ID==slide.ID){index=i}});return index}function hashtagHandler(event){var hash=window.location.hash.replace("#",""),split=hash.split(self.options.deeplinking.separator);if(hashLock){return}if(event){hashLock=1}if(split[0]===self.options.deeplinking.linkID){var index=getSlideById(split[1]);if(self.initialized){self.activate(index)}else{self.options.startRandom=0;self.options.startAt=index}}else{if(event&&hash.length===0){self.activate(self.options.startAt)}}if(event){hashLock=0}}self.destroy=function(thumbnails){var $unbinds=$scrollSource.add($pagesBar).add($forwardButton).add($backwardButton).add($prevButton).add($nextButton).add($prevPageButton).add($nextPageButton).add($fullScreenButton).add($("."+minnamespace+"Icon",$frame));if(!thumbnails){$unbinds.add($doc).add($win)}$unbinds.unbind("."+namespace);$prevButton.add($nextButton).add($prevPageButton).add($nextPageButton).removeClass(self.options.classes.disabledClass);if($slides[0]){$slides.removeAttr("style").eq(self.relative.activeSlide).removeClass(self.options.classes.activeClass);$("."+minnamespace+"Cover, ."+minnamespace+"Icon",$slides).remove()}if($pagesBar[0]){$pagesBar.empty()}if($thumbnailsBar[0]){$thumbnailsBar.empty()}$("."+minnamespace+"Buttons, ."+minnamespace+"Pages, ."+minnamespace+"Thumbnails",$parent).remove();$frame.unbind("."+namespace);$parent.removeClass(self.options.navigation.horizontal?self.options.classes.horizontalClass:self.options.classes.verticalClass);$slideElement.css(transform||(self.options.navigation.horizontal?"left":"top"),transform?"none":0);$frame.removeData(namespace);self.initialized=0;trigger("destroy");return self};self.init=function(){if(self.initialized){return}syncThumbnailsbar();self.on(callbackMap);if(thumbnailNav){self.on("active",function(name,index){thumbnailNav.activate(index)})}$frame.css("overflow","hidden");if(!transform&&$frame.css("position")==="static"){$frame.css("position","relative")}if(transform&&gpuAcceleration){$slideElement.css(transform,gpuAcceleration)}else{$slideElement.css({position:"absolute"})}normalizeElements();load();if(self.options.deeplinking.linkID){hashtagHandler()}$slides.css({position:"relative"});self.options.startAt=self.options.startRandom?Math.floor(Math.random()*self.slides.length):self.options.startAt;self.activate(self.options.startAt,1);if($forwardButton[0]){$forwardButton.on(mouseDownEvent,buttonsHandler)}if($backwardButton[0]){$backwardButton.on(mouseDownEvent,buttonsHandler)}if($prevButton[0]){$prevButton.on(clickEvent,buttonsHandler)}if($nextButton[0]){$nextButton.on(clickEvent,buttonsHandler)}if($prevPageButton[0]){$prevPageButton.on(clickEvent,buttonsHandler)}if($nextPageButton[0]){$nextPageButton.on(clickEvent,buttonsHandler)}if($fullScreenButton[0]){$fullScreenButton.on(clickEvent,buttonsHandler)}$scrollSource.on(mouseScrollEvent,scrollHandler);if(self.options.navigation.activateOn){$frame.on(self.options.navigation.activateOn+"."+namespace,"*",activateHandler)}if($pagesBar[0]&&self.options.pages.activateOn){$pagesBar.on(self.options.pages.activateOn+"."+namespace,"*",activatePageHandler)}$dragSource.on(dragInitEvents,{source:"slideElement"},dragInit);$doc.bind(keyDownEvent,keyboardHandler);$win.bind(resizeEvent,winResizeHandler).bind(hashChangeEvent,hashtagHandler);if(fullScreenApi.supportsFullScreen){$win.bind(fullScreenApi.fullScreenEventName+"",winfullScreenHandler)}$frame.on(hoverEvent,pauseOnHoverHandler);$parent.addClass(self.options.navigation.horizontal?self.options.classes.horizontalClass:self.options.classes.verticalClass).addClass(isTouch?self.options.classes.isTouchClass:"");if(self.options.cycling.cycleBy){self[self.options.cycling.startPaused?"pause":"resume"]()}self.initialized=1;trigger("initialize");return self}}function type(value){if(value===null){return String(value)}if(typeof value==="object"||typeof value==="function"){return Object.prototype.toString.call(value).match(/\s([a-z]+)/i)[1].toLowerCase()||"object"}return typeof value}function getSlideType(options){var type="content",cover=options.cover,source=options.source,video=options.mp4||options.webm||options.ogv||options.video;if(options.type){return options.type}else{if(parseVideoURL(source)){return"video"}}if(cover){type="image"}if(source){type="iframe"}if(video){type="video"}if(options.link){type="link"}return type}function getInlineOptions($element){var data=$element.data(namespace.toLowerCase());return data&&eval("({"+data+"})")||{}}function getCaptionOptions($caption){var data=$caption.data(minnamespace.toLowerCase()+"animation");return data&&eval("(["+data+"])")||{}}function getCaptionStyles($caption){var styles={};$.each(captionResponsiveStyles,function(i,property){var pixel=getPixel($caption,property);if(pixel){styles[property]=pixel}});return styles}function normalizeStyles(styles,properties,ratio){var newStyles={};$.each(styles,function(property,value){if($.inArray(property,properties)===-1){return true}var pixel=value*ratio;if(property=="lineHeight"){pixel+="px"}newStyles[property]=pixel});return newStyles}function stopDefault(event,noBubbles){event.preventDefault();if(noBubbles){event.stopPropagation()}}function disableOneEvent(event){stopDefault(event,1);$(event.target).off(event.type,disableOneEvent)}function is_numeric(value){return(typeof(value)==="number"||typeof(value)==="string")&&value!==""&&!isNaN(value)}function getPixel($element,property){return parseInt($element.css(property),10)||0}function within(number,min,max){return number<min?min:number>max?max:number}function percentToValue(percent,total){return parseInt((total/100)*percent)}function showLoader($slide){var loader=$('<div class="'+minnamespace+"Icon "+minnamespace+'Loader"></div>');$slide.prepend(loader);return loader}function hideLoader(loader){return loader.remove()}function calculateDimensions(width,height,width_old,height_old,factor){if(!factor){if(!width){factor=height/height_old}else{if(!height){factor=width/width_old}else{factor=Math.min(width/width_old,height/height_old)}}}return{width:Math.round(width_old*factor),height:Math.round(height_old*factor),ratio:factor}}function parseVideoURL(url){var result=null;$.each(videoRegularExpressions,function(i,object){if(object.reg.test(url)){var split=url.split(object.split);result={source:object.url.replace(/\{id\}/g,split[object.index]),type:object.iframe&&"iframe"||"flash"};return false}});return result}function parsePhotoURL(url){var result=null;$.each(photoRegularExpressions,function(i,object){if(object.reg.test(url)){result=$.extend(true,{},object,{});result.oembed=absolutizeURI(object.oembed.replace(/\{URL\}/g,url),url);return false}});return result}function createElement(type,params,innerTags){var el;params=params||{};innerTags=innerTags||{};switch(type){case"video":el=document.createElement("video");params=$.extend(true,params,videoDefaultAttributes);break;case"iframe":el=document.createElement("iframe");params=$.extend(true,params,iframeDefaultAttributes);break;case"flash":el=document.createElement("embed");params=$.extend(true,params,embedDefaultAttributes);break;default:el=document.createElement(type);break}insertTag(el,params);$.each(innerTags,function(i,attributes){if(!attributes.name){return true}var newEl=document.createElement(attributes.name);attributes.name=null;insertTag(newEl,attributes);el.appendChild(newEl)});return el}function insertTag(el,attributes){$.each(attributes,function(key,value){if(!is_numeric(value)&&!value){return true}insertAttribute(el,key,value)})}function insertAttribute(el,attributeName,value){var nodeValue=($.isPlainObject(value))?(function(){var query="",i=0;$.each(value,function(k,v){if(i!==0){query+="&"}query+=k+"="+rawurlencode(v);i++});return query}()):value;el.setAttribute(attributeName,nodeValue)}function preloadimages(arr){var newImages=[],loadedImages=0,postAction=function(){};arr=(typeof arr!=="object")?[arr]:arr;function imageLoadPost(){loadedImages++;if(loadedImages===arr.length){postAction(newImages)}}function handler(){imageLoadPost()}for(var i=0;i<arr.length;i++){newImages[i]=new Image();newImages[i].onload=handler;newImages[i].onerror=handler;newImages[i].src=arr[i]}return{done:function(f){postAction=f||postAction}}}function canPlayType(type){var el=document.createElement("video");return !!(el.canPlayType&&el.canPlayType(type).replace(/no/,""))}function doAjax(url,callback){var url=JSONReader.replace(/\{URL\}/g,rawurlencode(url)),docMode=document.documentMode||browser.version,ieLT10=browser.msie&&docMode<10,xhr=$.ajax({url:url,dataType:ieLT10?"jsonp":"json",cache:!ieLT10});xhr.success(function(data){callback(data)}).error(function(){callback(false)});if(ieLT10){mightySliderCallback=function(data){callback(data)}}}function rawurlencode(str){str=(str+"").toString();return encodeURIComponent(str).replace(/!/g,"%21").replace(/'/g,"%27").replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/\*/g,"%2A")}function ucfirst(str){str+="";var f=str.charAt(0).toUpperCase();return f+str.substr(1)}function basename(path,suffix){var b=path.replace(/^.*[\/\\]/g,"");if(typeof(suffix)==="string"&&b.substr(b.length-suffix.length)===suffix){b=b.substr(0,b.length-suffix.length)}return b}function dirname(path){return path.replace(/\\/g,"/").replace(/\/[^\/]*\/?$/,"")}function parse_url(url,component){var query,key=["source","scheme","authority","userInfo","user","pass","host","port","relative","path","directory","file","query","fragment"],mode="php",parser={php:/^(?:([^:\/?#]+):)?(?:\/\/()(?:(?:()(?:([^:@]*):?([^:@]*))?@)?([^:\/?#]*)(?::(\d*))?))?()(?:(()(?:(?:[^?#\/]*\/)*)()(?:[^?#]*))(?:\?([^#]*))?(?:#(.*))?)/,strict:/^(?:([^:\/?#]+):)?(?:\/\/((?:(([^:@]*):?([^:@]*))?@)?([^:\/?#]*)(?::(\d*))?))?((((?:[^?#\/]*\/)*)([^?#]*))(?:\?([^#]*))?(?:#(.*))?)/,loose:/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/\/?)?((?:(([^:@]*):?([^:@]*))?@)?([^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/};var m=parser[mode].exec(url),uri={},i=14;while(i--){if(m[i]){uri[key[i]]=m[i]}}if(component){return uri[component.replace("PHP_URL_","").toLowerCase()]}if(mode!=="php"){var name="queryKey";parser=/(?:^|&)([^&=]*)=?([^&]*)/g;uri[name]={};query=uri[key[12]]||"";query.replace(parser,function($0,$1,$2){if($1){uri[name][$1]=$2}})}delete uri.source;return uri}function absolutizeURI(href,base){function removeDotSegments(input){var output=[];input.replace(/^(\.\.?(\/|$))+/,"").replace(/\/(\.(\/|$))+/g,"/").replace(/\/\.\.$/,"/../").replace(/\/?[^\/]*/g,function(p){if(p==="/.."){output.pop()}else{output.push(p)}});return output.join("").replace(/^\//,input.charAt(0)==="/"?"/":"")}function URIComponents(url){var m=String(url).replace(/^\s+|\s+$/g,"").match(/^([^:\/?#]+:)?(\/\/(?:[^:@]*(?::[^:@]*)?@)?(([^:\/?#]*)(?::(\d*))?))?([^?#]*)(\?[^#]*)?(#[\s\S]*)?/);return(m?{href:m[0]||"",protocol:m[1]||"",authority:m[2]||"",host:m[3]||"",hostname:m[4]||"",port:m[5]||"",pathname:m[6]||"",search:m[7]||"",hash:m[8]||""}:null)}href=URIComponents(href||"");base=URIComponents(base||window.location.href);return !href||!base?null:(href.protocol||base.protocol)+(href.protocol||href.authority?href.authority:base.authority)+removeDotSegments(href.protocol||href.authority||href.pathname.charAt(0)==="/"?href.pathname:(href.pathname?((base.authority&&!base.pathname?"/":"")+base.pathname.slice(0,base.pathname.lastIndexOf("/")+1)+href.pathname):base.pathname))+(href.protocol||href.authority||href.pathname?href.search:(href.search||base.search))+href.hash}function pathinfo(path,options){var opt="",optName="",optTemp=0,tmp_arr={},cnt=0,i=0,have_basename=false,have_extension=false,have_filename=false;if(!path){return false}if(!options){options="PATHINFO_ALL"}var OPTS={PATHINFO_DIRNAME:1,PATHINFO_BASENAME:2,PATHINFO_EXTENSION:4,PATHINFO_FILENAME:8,PATHINFO_ALL:0};for(optName in OPTS){OPTS.PATHINFO_ALL=OPTS.PATHINFO_ALL|OPTS[optName]}if(typeof options!=="number"){options=[].concat(options);for(i=0;i<options.length;i++){if(OPTS[options[i]]){optTemp=optTemp|OPTS[options[i]]}}options=optTemp}var __getExt=function(path){var str=path+"";var dotP=str.lastIndexOf(".")+1;return !dotP?false:dotP!==str.length?str.substr(dotP):""};if(options&OPTS.PATHINFO_DIRNAME){var dirname=dirname(path);tmp_arr.dirname=dirname===path?".":dirname}if(options&OPTS.PATHINFO_BASENAME){if(false===have_basename){have_basename=basename(path)}tmp_arr.basename=have_basename}if(options&OPTS.PATHINFO_EXTENSION){if(false===have_basename){have_basename=basename(path)}if(false===have_extension){have_extension=__getExt(have_basename)}if(false!==have_extension){tmp_arr.extension=have_extension}}if(options&OPTS.PATHINFO_FILENAME){if(false===have_basename){have_basename=basename(path)}if(false===have_extension){have_extension=__getExt(have_basename)}if(false===have_filename){have_filename=have_basename.slice(0,have_basename.length-(have_extension?have_extension.length+1:have_extension===false?0:1))}tmp_arr.filename=have_filename}cnt=0;for(opt in tmp_arr){cnt++}if(cnt===1){return tmp_arr[opt]}return tmp_arr}function version_compare(v1,v2,operator){var i=0,x=0,compare=0,vm={dev:-6,alpha:-5,a:-5,beta:-4,b:-4,RC:-3,rc:-3,"#":-2,p:1,pl:1},prepVersion=function(v){v=(""+v).replace(/[_\-+]/g,".");v=v.replace(/([^.\d]+)/g,".$1.").replace(/\.{2,}/g,".");return(!v.length?[-8]:v.split("."))},numVersion=function(v){return !v?0:(isNaN(v)?vm[v]||-7:parseInt(v,10))};v1=prepVersion(v1);v2=prepVersion(v2);x=Math.max(v1.length,v2.length);for(i=0;i<x;i++){if(v1[i]===v2[i]){continue}v1[i]=numVersion(v1[i]);v2[i]=numVersion(v2[i]);if(v1[i]<v2[i]){compare=-1;break}else{if(v1[i]>v2[i]){compare=1;break}}}if(!operator){return compare}switch(operator){case">":return(compare>0);case">=":return(compare>=0);case"<=":return(compare<=0);case"==":return(compare===0);case"!=":return(compare!==0);case"<":return(compare<0);default:return null}}(function(){function uaMatch(ua){ua=ua.toLowerCase();var match=/(chrome)[ \/]([\w.]+)/.exec(ua)||/(webkit)[ \/]([\w.]+)/.exec(ua)||/(opera)(?:.*version|)[ \/]([\w.]+)/.exec(ua)||/(msie) ([\w.]+)/.exec(ua)||ua.indexOf("compatible")<0&&/(mozilla)(?:.*? rv:([\w.]+)|)/.exec(ua)||[];return{browser:match[1]||"",version:match[2]||"0"}}var matched=uaMatch(navigator.userAgent);browser={};if(matched.browser){browser[matched.browser]=true;browser.version=matched.version}if(browser.chrome){browser.webkit=true}else{if(browser.webkit){browser.safari=true}}}());(function(){var vendors=["ms","moz","webkit","o"];var lastTime=0;for(var i=0,l=vendors.length;i<l&&!cancelAnimationFrame;++i){cancelAnimationFrame=window[vendors[i]+"CancelAnimationFrame"]||window[vendors[i]+"CancelRequestAnimationFrame"];requestAnimationFrame=cancelAnimationFrame&&window[vendors[i]+"RequestAnimationFrame"]}if(!cancelAnimationFrame){requestAnimationFrame=function(callback){var currTime=+new Date();var timeToCall=Math.max(0,16-(currTime-lastTime));lastTime=currTime+timeToCall;return window.setTimeout(function(){callback(currTime+timeToCall)},timeToCall)};cancelAnimationFrame=function(id){clearTimeout(id)}}}());(function(){var prefixes=["","webkit","moz","ms","o"];var el=document.createElement("div");function testProp(prop){for(var p=0,pl=prefixes.length;p<pl;p++){var prefixedProp=prefixes[p]?prefixes[p]+prop.charAt(0).toUpperCase()+prop.slice(1):prop;if(el.style[prefixedProp]!==undefined){return prefixedProp}}}transform=testProp("transform");gpuAcceleration=testProp("perspective")?"translateZ(0) ":""}());(function(){var PluginDetect={version:"0.7.9",name:"PluginDetect",handler:function(c,b,a){return function(){c(b,a)}},openTag:"<",isDefined:function(b){return typeof b!="undefined"},isArray:function(b){return(/array/i).test(Object.prototype.toString.call(b))},isFunc:function(b){return typeof b=="function"},isString:function(b){return typeof b=="string"},isNum:function(b){return typeof b=="number"},isStrNum:function(b){return(typeof b=="string"&&(/\d/).test(b))},getNumRegx:/[\d][\d\.\_,-]*/,splitNumRegx:/[\.\_,-]/g,getNum:function(b,c){var d=this,a=d.isStrNum(b)?(d.isDefined(c)?new RegExp(c):d.getNumRegx).exec(b):null;return a?a[0]:null},compareNums:function(h,f,d){var e=this,c,b,a,g=parseInt;if(e.isStrNum(h)&&e.isStrNum(f)){if(e.isDefined(d)&&d.compareNums){return d.compareNums(h,f)}c=h.split(e.splitNumRegx);b=f.split(e.splitNumRegx);for(a=0;a<Math.min(c.length,b.length);a++){if(g(c[a],10)>g(b[a],10)){return 1}if(g(c[a],10)<g(b[a],10)){return -1}}}return 0},formatNum:function(b,c){var d=this,a,e;if(!d.isStrNum(b)){return null}if(!d.isNum(c)){c=4}c--;e=b.replace(/\s/g,"").split(d.splitNumRegx).concat(["0","0","0","0"]);for(a=0;a<4;a++){if(/^(0+)(.+)$/.test(e[a])){e[a]=RegExp.$2}if(a>c||!(/\d/).test(e[a])){e[a]="0"}}return e.slice(0,4).join(",")},$$hasMimeType:function(a){return function(c){if(!a.isIE&&c){var f,e,b,d=a.isArray(c)?c:(a.isString(c)?[c]:[]);for(b=0;b<d.length;b++){if(a.isString(d[b])&&/[^\s]/.test(d[b])){f=navigator.mimeTypes[d[b]];e=f?f.enabledPlugin:0;if(e&&(e.name||e.description)){return f}}}}return null}},findNavPlugin:function(l,e,c){var j=this,h=new RegExp(l,"i"),d=(!j.isDefined(e)||e)?/\d/:0,k=c?new RegExp(c,"i"):0,a=navigator.plugins,g="",f,b,m;for(f=0;f<a.length;f++){m=a[f].description||g;b=a[f].name||g;if((h.test(m)&&(!d||d.test(RegExp.leftContext+RegExp.rightContext)))||(h.test(b)&&(!d||d.test(RegExp.leftContext+RegExp.rightContext)))){if(!k||!(k.test(m)||k.test(b))){return a[f]}}}return null},getMimeEnabledPlugin:function(k,m,c){var e=this,f,b=new RegExp(m,"i"),h="",g=c?new RegExp(c,"i"):0,a,l,d,j=e.isString(k)?[k]:k;for(d=0;d<j.length;d++){if((f=e.hasMimeType(j[d]))&&(f=f.enabledPlugin)){l=f.description||h;a=f.name||h;if(b.test(l)||b.test(a)){if(!g||!(g.test(l)||g.test(a))){return f}}}}return 0},getPluginFileVersion:function(f,b){var h=this,e,d,g,a,c=-1;if(h.OS>2||!f||!f.version||!(e=h.getNum(f.version))){return b}if(!b){return e}e=h.formatNum(e);b=h.formatNum(b);d=b.split(h.splitNumRegx);g=e.split(h.splitNumRegx);for(a=0;a<d.length;a++){if(c>-1&&a>c&&d[a]!="0"){return b}if(g[a]!=d[a]){if(c==-1){c=a}if(d[a]!="0"){return b}}}return e},AXO:window.ActiveXObject,getAXO:function(a){var f=null,d,b=this,c={};try{f=new b.AXO(a)}catch(d){}return f},convertFuncs:function(f){var a,g,d,b=/^[\$][\$]/,c=this;for(a in f){if(b.test(a)){try{g=a.slice(2);if(g.length>0&&!f[g]){f[g]=f[a](f);delete f[a]}}catch(d){}}}},initObj:function(e,b,d){var a,c;if(e){if(e[b[0]]==1||d){for(a=0;a<b.length;a=a+2){e[b[a]]=b[a+1]}}for(a in e){c=e[a];if(c&&c[b[0]]==1){this.initObj(c,b)}}}},initScript:function(){var d=this,a=navigator,h,i=document,l=a.userAgent||"",j=a.vendor||"",b=a.platform||"",k=a.product||"";d.initObj(d,["$",d]);for(h in d.Plugins){if(d.Plugins[h]){d.initObj(d.Plugins[h],["$",d,"$$",d.Plugins[h]],1)}}d.convertFuncs(d);d.OS=100;if(b){var g=["Win",1,"Mac",2,"Linux",3,"FreeBSD",4,"iPhone",21.1,"iPod",21.2,"iPad",21.3,"Win.*CE",22.1,"Win.*Mobile",22.2,"Pocket\\s*PC",22.3,"",100];for(h=g.length-2;h>=0;h=h-2){if(g[h]&&new RegExp(g[h],"i").test(b)){d.OS=g[h+1];break}}}d.head=i.getElementsByTagName("head")[0]||i.getElementsByTagName("body")[0]||i.body||null;d.isIE=new Function("return/*@cc_on!@*/!1")();d.verIE=d.isIE&&(/MSIE\s*(\d+\.?\d*)/i).test(l)?parseFloat(RegExp.$1,10):null;d.verIEfull=null;d.docModeIE=null;if(d.isIE){var f,n,c=document.createElement("div");try{c.style.behavior="url(#default#clientcaps)";d.verIEfull=(c.getComponentVersion("{89820200-ECBD-11CF-8B85-00AA005B4383}","componentid")).replace(/,/g,".")}catch(f){}n=parseFloat(d.verIEfull||"0",10);d.docModeIE=i.documentMode||((/back/i).test(i.compatMode||"")?5:n)||d.verIE;d.verIE=n||d.docModeIE}d.ActiveXEnabled=false;if(d.isIE){var h,m=["Msxml2.XMLHTTP","Msxml2.DOMDocument","Microsoft.XMLDOM","ShockwaveFlash.ShockwaveFlash","TDCCtl.TDCCtl","Shell.UIHelper","Scripting.Dictionary","wmplayer.ocx"];for(h=0;h<m.length;h++){if(d.getAXO(m[h])){d.ActiveXEnabled=true;break}}}d.isGecko=(/Gecko/i).test(k)&&(/Gecko\s*\/\s*\d/i).test(l);d.verGecko=d.isGecko?d.formatNum((/rv\s*\:\s*([\.\,\d]+)/i).test(l)?RegExp.$1:"0.9"):null;d.isChrome=(/Chrome\s*\/\s*(\d[\d\.]*)/i).test(l);d.verChrome=d.isChrome?d.formatNum(RegExp.$1):null;d.isSafari=((/Apple/i).test(j)||(!j&&!d.isChrome))&&(/Safari\s*\/\s*(\d[\d\.]*)/i).test(l);d.verSafari=d.isSafari&&(/Version\s*\/\s*(\d[\d\.]*)/i).test(l)?d.formatNum(RegExp.$1):null;d.isOpera=(/Opera\s*[\/]?\s*(\d+\.?\d*)/i).test(l);d.verOpera=d.isOpera&&((/Version\s*\/\s*(\d+\.?\d*)/i).test(l)||1)?parseFloat(RegExp.$1,10):null;d.addWinEvent("load",d.handler(d.runWLfuncs,d))},init:function(d){var c=this,b,d,a={status:-3,plugin:0};if(!c.isString(d)){return a}if(d.length==1){c.getVersionDelimiter=d;return a}d=d.toLowerCase().replace(/\s/g,"");b=c.Plugins[d];if(!b||!b.getVersion){return a}a.plugin=b;if(!c.isDefined(b.installed)){b.installed=null;b.version=null;b.version0=null;b.getVersionDone=null;b.pluginName=d}c.garbage=false;if(c.isIE&&!c.ActiveXEnabled&&d!=="java"){a.status=-2;return a}a.status=1;return a},fPush:function(b,a){var c=this;if(c.isArray(a)&&(c.isFunc(b)||(c.isArray(b)&&b.length>0&&c.isFunc(b[0])))){a.push(b)}},callArray:function(b){var c=this,a;if(c.isArray(b)){for(a=0;a<b.length;a++){if(b[a]===null){return}c.call(b[a]);b[a]=null}}},call:function(c){var b=this,a=b.isArray(c)?c.length:-1;if(a>0&&b.isFunc(c[0])){c[0](b,a>1?c[1]:0,a>2?c[2]:0,a>3?c[3]:0)}else{if(b.isFunc(c)){c(b)}}},getVersionDelimiter:",",$$getVersion:function(a){return function(g,d,c){var e=a.init(g),f,b,h={};if(e.status<0){return null}f=e.plugin;if(f.getVersionDone!=1){f.getVersion(null,d,c);if(f.getVersionDone===null){f.getVersionDone=1}}a.cleanup();b=(f.version||f.version0);b=b?b.replace(a.splitNumRegx,a.getVersionDelimiter):b;return b}},cleanup:function(){var a=this;if(a.garbage&&a.isDefined(window.CollectGarbage)){window.CollectGarbage()}},isActiveXObject:function(d,b){var f=this,a=false,g,c='<object width="1" height="1" style="display:none" '+d.getCodeBaseVersion(b)+">"+d.HTML+f.openTag+"/object>";if(!f.head){return a}f.head.insertBefore(document.createElement("object"),f.head.firstChild);f.head.firstChild.outerHTML=c;try{f.head.firstChild.classid=d.classID}catch(g){}try{if(f.head.firstChild.object){a=true}}catch(g){}try{if(a&&f.head.firstChild.readyState<4){f.garbage=true}}catch(g){}f.head.removeChild(f.head.firstChild);return a},codebaseSearch:function(f,b){var c=this;if(!c.ActiveXEnabled||!f){return null}if(f.BIfuncs&&f.BIfuncs.length&&f.BIfuncs[f.BIfuncs.length-1]!==null){c.callArray(f.BIfuncs)}var d,o=f.SEARCH,k={};if(c.isStrNum(b)){if(o.match&&o.min&&c.compareNums(b,o.min)<=0){return true}if(o.match&&o.max&&c.compareNums(b,o.max)>=0){return false}d=c.isActiveXObject(f,b);if(d&&(!o.min||c.compareNums(b,o.min)>0)){o.min=b}if(!d&&(!o.max||c.compareNums(b,o.max)<0)){o.max=b}return d}var e=[0,0,0,0],l=[].concat(o.digits),a=o.min?1:0,j,i,h,g,m,n=function(p,r){var q=[].concat(e);q[p]=r;return c.isActiveXObject(f,q.join(","))};if(o.max){g=o.max.split(c.splitNumRegx);for(j=0;j<g.length;j++){g[j]=parseInt(g[j],10)}if(g[0]<l[0]){l[0]=g[0]}}if(o.min){m=o.min.split(c.splitNumRegx);for(j=0;j<m.length;j++){m[j]=parseInt(m[j],10)}if(m[0]>e[0]){e[0]=m[0]}}if(m&&g){for(j=1;j<m.length;j++){if(m[j-1]!=g[j-1]){break}if(g[j]<l[j]){l[j]=g[j]}if(m[j]>e[j]){e[j]=m[j]}}}if(o.max){for(j=1;j<l.length;j++){if(g[j]>0&&l[j]==0&&l[j-1]<o.digits[j-1]){l[j-1]+=1;break}}}for(j=0;j<l.length;j++){h={};for(i=0;i<20;i++){if(l[j]-e[j]<1){break}d=Math.round((l[j]+e[j])/2);if(h["a"+d]){break}h["a"+d]=1;if(n(j,d)){e[j]=d;a=1}else{l[j]=d}}l[j]=e[j];if(!a&&n(j,e[j])){a=1}if(!a){break}}return a?e.join(","):null},addWinEvent:function(d,c){var e=this,a=window,b;if(e.isFunc(c)){if(a.addEventListener){a.addEventListener(d,c,false)}else{if(a.attachEvent){a.attachEvent("on"+d,c)}else{b=a["on"+d];a["on"+d]=e.winHandler(c,b)}}}},winHandler:function(d,c){return function(){d();if(typeof c=="function"){c()}}},WLfuncs0:[],WLfuncs:[],runWLfuncs:function(a){var b={};a.winLoaded=true;a.callArray(a.WLfuncs0);a.callArray(a.WLfuncs);if(a.onDoneEmptyDiv){a.onDoneEmptyDiv()}},winLoaded:false,$$onWindowLoaded:function(a){return function(b){if(a.winLoaded){a.call(b)}else{a.fPush(b,a.WLfuncs)}}},div:null,divID:"plugindetect",divWidth:50,pluginSize:1,emptyDiv:function(){var d=this,b,h,c,a,f,g;if(d.div&&d.div.childNodes){for(b=d.div.childNodes.length-1;b>=0;b--){c=d.div.childNodes[b];if(c&&c.childNodes){for(h=c.childNodes.length-1;h>=0;h--){g=c.childNodes[h];try{c.removeChild(g)}catch(f){}}}if(c){try{d.div.removeChild(c)}catch(f){}}}}if(!d.div){a=document.getElementById(d.divID);if(a){d.div=a}}if(d.div&&d.div.parentNode){try{d.div.parentNode.removeChild(d.div)}catch(f){}d.div=null}},DONEfuncs:[],onDoneEmptyDiv:function(){var c=this,a,b;if(!c.winLoaded){return}if(c.WLfuncs&&c.WLfuncs.length&&c.WLfuncs[c.WLfuncs.length-1]!==null){return}for(a in c){b=c[a];if(b&&b.funcs){if(b.OTF==3){return}if(b.funcs.length&&b.funcs[b.funcs.length-1]!==null){return}}}for(a=0;a<c.DONEfuncs.length;a++){c.callArray(c.DONEfuncs)}c.emptyDiv()},getWidth:function(c){if(c){var a=c.scrollWidth||c.offsetWidth,b=this;if(b.isNum(a)){return a}}return -1},getTagStatus:function(m,g,a,b){var c=this,f,k=m.span,l=c.getWidth(k),h=a.span,j=c.getWidth(h),d=g.span,i=c.getWidth(d);if(!k||!h||!d||!c.getDOMobj(m)){return -2}if(j<i||l<0||j<0||i<0||i<=c.pluginSize||c.pluginSize<1){return 0}if(l>=i){return -1}try{if(l==c.pluginSize&&(!c.isIE||c.getDOMobj(m).readyState==4)){if(!m.winLoaded&&c.winLoaded){return 1}if(m.winLoaded&&c.isNum(b)){if(!c.isNum(m.count)){m.count=b}if(b-m.count>=10){return 1}}}}catch(f){}return 0},getDOMobj:function(g,a){var f,d=this,c=g?g.span:0,b=c&&c.firstChild?1:0;try{if(b&&a){d.div.focus()}}catch(f){}return b?c.firstChild:null},setStyle:function(b,g){var f=b.style,a,d,c=this;if(f&&g){for(a=0;a<g.length;a=a+2){try{f[g[a]]=g[a+1]}catch(d){}}}},insertDivInBody:function(i,g){var f,c=this,h="pd33993399",b=null,d=g?window.top.document:window.document,a=d.getElementsByTagName("body")[0]||d.body;if(!a){try{d.write('<div id="'+h+'">.'+c.openTag+"/div>");b=d.getElementById(h)}catch(f){}}a=d.getElementsByTagName("body")[0]||d.body;if(a){a.insertBefore(i,a.firstChild);if(b){a.removeChild(b)}}},insertHTML:function(f,b,g,a,k){var l,m=document,j=this,p,o=m.createElement("span"),n,i;var c=["outlineStyle","none","borderStyle","none","padding","0px","margin","0px","visibility","visible"];var h="outline-style:none;border-style:none;padding:0px;margin:0px;visibility:visible;";if(!j.isDefined(a)){a=""}if(j.isString(f)&&(/[^\s]/).test(f)){f=f.toLowerCase().replace(/\s/g,"");p=j.openTag+f+' width="'+j.pluginSize+'" height="'+j.pluginSize+'" ';p+='style="'+h+'display:inline;" ';for(n=0;n<b.length;n=n+2){if(/[^\s]/.test(b[n+1])){p+=b[n]+'="'+b[n+1]+'" '}}p+=">";for(n=0;n<g.length;n=n+2){if(/[^\s]/.test(g[n+1])){p+=j.openTag+'param name="'+g[n]+'" value="'+g[n+1]+'" />'}}p+=a+j.openTag+"/"+f+">"}else{p=a}if(!j.div){i=m.getElementById(j.divID);if(i){j.div=i}else{j.div=m.createElement("div");j.div.id=j.divID}j.setStyle(j.div,c.concat(["width",j.divWidth+"px","height",(j.pluginSize+3)+"px","fontSize",(j.pluginSize+3)+"px","lineHeight",(j.pluginSize+3)+"px","verticalAlign","baseline","display","block"]));if(!i){j.setStyle(j.div,["position","absolute","right","0px","top","0px"]);j.insertDivInBody(j.div)}}if(j.div&&j.div.parentNode){j.setStyle(o,c.concat(["fontSize",(j.pluginSize+3)+"px","lineHeight",(j.pluginSize+3)+"px","verticalAlign","baseline","display","inline"]));try{o.innerHTML=p}catch(l){}try{j.div.appendChild(o)}catch(l){}return{span:o,winLoaded:j.winLoaded,tagName:f,outerHTML:p}}return{span:null,winLoaded:j.winLoaded,tagName:"",outerHTML:p}},Plugins:{quicktime:{mimeType:["video/quicktime","application/x-quicktimeplayer","image/x-macpaint","image/x-quicktime"],progID:"QuickTimeCheckObject.QuickTimeCheck.1",progID0:"QuickTime.QuickTime",classID:"clsid:02BF25D5-8C17-4B23-BC80-D3488ABDDC6B",minIEver:7,HTML:'<param name="src" value="" /><param name="controller" value="false" />',getCodeBaseVersion:function(a){return'codebase="#version='+a+'"'},SEARCH:{min:0,max:0,match:0,digits:[16,128,128,0]},getVersion:function(c){var f=this,d=f.$,a=null,e=null,b;if(!d.isIE){if(d.hasMimeType(f.mimeType)){e=d.OS!=3?d.findNavPlugin("QuickTime.*Plug-?in",0):null;if(e&&e.name){a=d.getNum(e.name)}}}else{if(d.isStrNum(c)){b=c.split(d.splitNumRegx);if(b.length>3&&parseInt(b[3],10)>0){b[3]="9999"}c=b.join(",")}if(d.isStrNum(c)&&d.verIE>=f.minIEver&&f.canUseIsMin()>0){f.installed=f.isMin(c);f.getVersionDone=0;return}f.getVersionDone=1;if(!a&&d.verIE>=f.minIEver){a=f.CDBASE2VER(d.codebaseSearch(f))}if(!a){e=d.getAXO(f.progID);if(e&&e.QuickTimeVersion){a=e.QuickTimeVersion.toString(16);a=parseInt(a.charAt(0),16)+"."+parseInt(a.charAt(1),16)+"."+parseInt(a.charAt(2),16)}}}f.installed=a?1:(e?0:-1);f.version=d.formatNum(a,3)},cdbaseUpper:["7,60,0,0","0,0,0,0"],cdbaseLower:["7,50,0,0",null],cdbase2ver:[function(c,b){var a=b.split(c.$.splitNumRegx);return[a[0],a[1].charAt(0),a[1].charAt(1),a[2]].join(",")},null],CDBASE2VER:function(f){var e=this,c=e.$,b,a=e.cdbaseUpper,d=e.cdbaseLower;if(f){f=c.formatNum(f);for(b=0;b<a.length;b++){if(a[b]&&c.compareNums(f,a[b])<0&&d[b]&&c.compareNums(f,d[b])>=0&&e.cdbase2ver[b]){return e.cdbase2ver[b](e,f)}}}return f},canUseIsMin:function(){var f=this,d=f.$,b,c=f.canUseIsMin,a=f.cdbaseUpper,e=f.cdbaseLower;if(!c.value){c.value=-1;for(b=0;b<a.length;b++){if(a[b]&&d.codebaseSearch(f,a[b])){c.value=1;break}if(e[b]&&d.codebaseSearch(f,e[b])){c.value=-1;break}}}f.SEARCH.match=c.value==1?1:0;return c.value},isMin:function(c){var b=this,a=b.$;return a.codebaseSearch(b,c)?0.7:-1}},flash:{mimeType:"application/x-shockwave-flash",progID:"ShockwaveFlash.ShockwaveFlash",classID:"clsid:D27CDB6E-AE6D-11CF-96B8-444553540000",getVersion:function(){var b=function(i){if(!i){return null}var e=/[\d][\d\,\.\s]*[rRdD]{0,1}[\d\,]*/.exec(i);return e?e[0].replace(/[rRdD\.]/g,",").replace(/\s/g,""):null};var j=this,g=j.$,k,h,l=null,c=null,a=null,f,m,d;if(!g.isIE){m=g.hasMimeType(j.mimeType);if(m){f=g.getDOMobj(g.insertHTML("object",["type",j.mimeType],[],"",j));try{l=g.getNum(f.GetVariable("$version"))}catch(k){}}if(!l){d=m?m.enabledPlugin:null;if(d&&d.description){l=b(d.description)}if(l){l=g.getPluginFileVersion(d,l)}}}else{for(h=15;h>2;h--){c=g.getAXO(j.progID+"."+h);if(c){a=h.toString();break}}if(!c){c=g.getAXO(j.progID)}if(a=="6"){try{c.AllowScriptAccess="always"}catch(k){return"6,0,21,0"}}try{l=b(c.GetVariable("$version"))}catch(k){}if(!l&&a){l=a}}j.installed=l?1:-1;j.version=g.formatNum(l);return true}},shockwave:{mimeType:"application/x-director",progID:"SWCtl.SWCtl",classID:"clsid:166B1BCA-3F9C-11CF-8075-444553540000",getVersion:function(){var a=null,b=null,g,f,d=this,c=d.$;if(!c.isIE){f=c.findNavPlugin("Shockwave\\s*for\\s*Director");if(f&&f.description&&c.hasMimeType(d.mimeType)){a=c.getNum(f.description)}if(a){a=c.getPluginFileVersion(f,a)}}else{try{b=c.getAXO(d.progID).ShockwaveVersion("")}catch(g){}if(c.isString(b)&&b.length>0){a=c.getNum(b)}else{if(c.getAXO(d.progID+".8")){a="8"}else{if(c.getAXO(d.progID+".7")){a="7"}else{if(c.getAXO(d.progID+".1")){a="6"}}}}}d.installed=a?1:-1;d.version=c.formatNum(a)}},zz:0}};PluginDetect.initScript();browserPlugins={flash:(parseInt(PluginDetect.getVersion("Shockwave"))>=0||parseInt(PluginDetect.getVersion("Flash"))>=0)?true:false,quicktime:(parseInt(PluginDetect.getVersion("QuickTime"))>=0)?true:false}}());var gArgCountErr='The "%%" function requires an even number of arguments.\nArguments should be in the form "atttributeName", "attributeValue", ...',gTagAttrs=null,gQTGeneratorVersion=1;function AC_QuickTimeVersion(){return gQTGeneratorVersion}function _QTComplain(a,b){b=b.replace("%%",a);alert(b)}function _QTAddAttribute(a,b,c){var d;d=gTagAttrs[a+b];null==d&&(d=gTagAttrs[b]);return null!=d?(0==b.indexOf(a)&&null==c&&(c=b.substring(a.length)),null==c&&(c=b),c+'="'+d+'" '):""}function _QTAddObjectAttr(a,b){if(0==a.indexOf("emb#")){return""}0==a.indexOf("obj#")&&null==b&&(b=a.substring(4));return _QTAddAttribute("obj#",a,b)}function _QTAddEmbedAttr(a,b){if(0==a.indexOf("obj#")){return""}0==a.indexOf("emb#")&&null==b&&(b=a.substring(4));return _QTAddAttribute("emb#",a,b)}function _QTAddObjectParam(a,b){var c,d="",e=b?" />":">";-1==a.indexOf("emb#")&&(c=gTagAttrs["obj#"+a],null==c&&(c=gTagAttrs[a]),0==a.indexOf("obj#")&&(a=a.substring(4)),null!=c&&(d='  <param name="'+a+'" value="'+c+'"'+e+"\n"));return d}function _QTDeleteTagAttrs(){for(var a=0;a<arguments.length;a++){var b=arguments[a];delete gTagAttrs[b];delete gTagAttrs["emb#"+b];delete gTagAttrs["obj#"+b]}}function _QTGenerate(a,b,c){if(4>c.length||0!=c.length%2){return _QTComplain(a,gArgCountErr),""}gTagAttrs=[];gTagAttrs.src=c[0];gTagAttrs.width=c[1];gTagAttrs.height=c[2];gTagAttrs.classid="clsid:02BF25D5-8C17-4B23-BC80-D3488ABDDC6B";gTagAttrs.pluginspage="http://www.apple.com/quicktime/download/";a=c[3];if(null==a||""==a){a="6,0,2,0"}gTagAttrs.codebase="http://www.apple.com/qtactivex/qtplugin.cab#version="+a;for(var d,e=4;e<c.length;e+=2){d=c[e].toLowerCase(),a=c[e+1],"name"==d||"id"==d?gTagAttrs.name=a:gTagAttrs[d]=a}c="<object "+_QTAddObjectAttr("classid")+_QTAddObjectAttr("width")+_QTAddObjectAttr("height")+_QTAddObjectAttr("codebase")+_QTAddObjectAttr("name","id")+_QTAddObjectAttr("tabindex")+_QTAddObjectAttr("hspace")+_QTAddObjectAttr("vspace")+_QTAddObjectAttr("border")+_QTAddObjectAttr("align")+_QTAddObjectAttr("class")+_QTAddObjectAttr("title")+_QTAddObjectAttr("accesskey")+_QTAddObjectAttr("noexternaldata")+">\n"+_QTAddObjectParam("src",b);e="  <embed "+_QTAddEmbedAttr("src")+_QTAddEmbedAttr("width")+_QTAddEmbedAttr("height")+_QTAddEmbedAttr("pluginspage")+_QTAddEmbedAttr("name")+_QTAddEmbedAttr("align")+_QTAddEmbedAttr("tabindex");_QTDeleteTagAttrs("src","width","height","pluginspage","classid","codebase","name","tabindex","hspace","vspace","border","align","noexternaldata","class","title","accesskey");for(d in gTagAttrs){a=gTagAttrs[d],null!=a&&(e+=_QTAddEmbedAttr(d),c+=_QTAddObjectParam(d,b))}return c+e+"> </embed>\n</object>"}function QT_GenerateOBJECTText(){return _QTGenerate("QT_GenerateOBJECTText",!1,arguments)}(function(){fullScreenApi={supportsFullScreen:false,isFullScreen:function(){return false},requestFullScreen:function(){},cancelFullScreen:function(){},fullScreenEventName:"",prefix:""};var browserPrefixes="webkit moz o ms khtml".split(" ");if(typeof document.cancelFullScreen!="undefined"){fullScreenApi.supportsFullScreen=true}else{for(var i=0,il=browserPrefixes.length;i<il;i++){fullScreenApi.prefix=browserPrefixes[i];if(typeof document[fullScreenApi.prefix+"CancelFullScreen"]!="undefined"){fullScreenApi.supportsFullScreen=true;break}}}if(fullScreenApi.supportsFullScreen){fullScreenApi.fullScreenEventName=fullScreenApi.prefix+"fullscreenchange";fullScreenApi.isFullScreen=function(){switch(this.prefix){case"":return document.fullScreen;break;case"webkit":return document.webkitIsFullScreen;break;default:return document[this.prefix+"FullScreen"];break}};fullScreenApi.requestFullScreen=function(el){return(this.prefix==="")?el.requestFullScreen():el[this.prefix+"RequestFullScreen"]()};fullScreenApi.cancelFullScreen=function(el){return(this.prefix==="")?document.cancelFullScreen():document[this.prefix+"CancelFullScreen"]()}}}());(function(){var str_hashchange="hashchange",doc=document,fake_onhashchange,special=$.event.special,doc_mode=doc.documentMode,supports_onhashchange="on"+str_hashchange in window&&(doc_mode===undefined||doc_mode>7);function get_fragment(url){url=url||location.href;return"#"+url.replace(/^[^#]*#?(.*)$/,"$1")}$.fn[str_hashchange]=function(fn){return fn?this.bind(str_hashchange,fn):this.trigger(str_hashchange)};$.fn[str_hashchange].delay=50;special[str_hashchange]=$.extend(special[str_hashchange],{setup:function(){if(supports_onhashchange){return false}$(fake_onhashchange.start)},teardown:function(){if(supports_onhashchange){return false}$(fake_onhashchange.stop)}});fake_onhashchange=function(){var self={},timeout_id,last_hash=get_fragment(),fn_retval=function(val){return val},history_set=fn_retval,history_get=fn_retval;self.start=function(){timeout_id||poll()};self.stop=function(){timeout_id&&clearTimeout(timeout_id);timeout_id=undefined};function poll(){var hash=get_fragment(),history_hash=history_get(last_hash);if(hash!==last_hash){history_set(last_hash=hash,history_hash);$(window).trigger(str_hashchange)}else{if(history_hash!==last_hash){location.href=location.href.replace(/#.*/,"")+history_hash}}timeout_id=setTimeout(poll,$.fn[str_hashchange].delay)}(browser.msie)&&!supports_onhashchange&&function(){var iframe,iframe_src;self.start=function(){if(!iframe){iframe_src=$.fn[str_hashchange].src;iframe_src=iframe_src&&iframe_src+get_fragment();iframe=$('<iframe tabindex="-1" title="empty"/>').hide().one("load",function(){iframe_src||history_set(get_fragment());poll()}).attr("src",iframe_src||"javascript:0").insertAfter("body")[0].contentWindow;doc.onpropertychange=function(){try{if(event.propertyName==="title"){iframe.document.title=doc.title}}catch(e){}}}};self.stop=fn_retval;history_get=function(){return get_fragment(iframe.location.href)};history_set=function(hash,history_hash){var iframe_doc=iframe.document,domain=$.fn[str_hashchange].domain;if(hash!==history_hash){iframe_doc.title=doc.title;iframe_doc.open();domain&&iframe_doc.write('<script>document.domain="'+domain+'"\x3c/script>');iframe_doc.close();iframe.location.hash=hash}}}();return self}()}());window.mightySlider=mightySlider;$.fn.mightySlider=function(options,callbackMap){if(version_compare($.fn.jquery,"1.7",">=")){var method,methodArgs;if(!$.isPlainObject(options)){if(type(options)==="string"||options===false){method=options===false?"destroy":options;methodArgs=Array.prototype.slice.call(arguments,1)}options={}}return this.each(function(i,element){var plugin=$.data(element,namespace);if(!plugin&&!method){plugin=$.data(element,namespace,new mightySlider(element,options,callbackMap).init())}else{if(plugin&&method){if(plugin[method]){plugin[method].apply(plugin,methodArgs)}}}})}else{throw"The jQuery version that was loaded is too old. mightySlider requires jQuery 1.7+"}};mightySlider.defaults={moveBy:300,speed:300,easing:"swing",startAt:0,startRandom:0,viewport:"fill",autoScale:0,autoResize:0,videoFrame:null,navigation:{horizontal:1,navigationType:"forceCentered",slideSelector:null,smart:1,activateOn:null,activateMiddle:1,slideSize:0,keyboardNavBy:null},deeplinking:{linkID:null,scrollTo:0,separator:"/"},scrolling:{scrollSource:null,scrollBy:0},dragging:{dragSource:null,mouseDragging:1,touchDragging:1,releaseSwing:1,swingSync:7.5,swingSpeed:0.2,elasticBounds:1,syncSpeed:0.5,interactive:null},pages:{pagesBar:null,activateOn:null,pageBuilder:function(index){return"<li>"+(index+1)+"</li>"}},thumbnails:{thumbnailsBar:null,horizontal:1,preloadThumbnails:1,thumbnailNav:"basic",activateOn:"click",scrollBy:1,mouseDragging:1,touchDragging:1,thumbnailSize:0,thumbnailBuilder:function(index,thumbnail){return'<li><img src="'+thumbnail+'" /></li>'}},commands:{thumbnails:0,pages:0,buttons:0},buttons:{forward:null,backward:null,prev:null,next:null,prevPage:null,nextPage:null,fullScreen:null},cycling:{cycleBy:null,pauseTime:5000,pauseOnHover:0,startPaused:0},classes:{isTouchClass:"isTouch",draggedClass:"dragged",activeClass:"active",disabledClass:"disabled",verticalClass:"vertical",horizontalClass:"horizontal",showedCaptionsClass:"showed",isInFullScreen:"isInFullScreen"}}})(jQuery,this);function fireslider_fullwidth_resize(b,c){var a=$(b.frame).width();if(a<=c){if(b.options.autoScale!=1){b.options.autoScale=1;b.reload()}}else{if(b.options.autoScale==1){b.options.autoScale=0;b.reload()}}}function fireslider_fullscreen_resize(k,i,e,f,h,l){var j=e/f;var g=i.width();var b=i.height();var c=g/b;if(g<=e||b<=f){if(j>c){var d=g;var a=Math.ceil((g*f)/e)}else{var a=b;var d=Math.ceil((a*e)/f)}i.find(".ms_scene").css("width",(d-l*2)).css("height",(a-h*2)).css("marginTop",-((a/2)-h)).css("marginLeft",-((d/2)-l));if(k.options.autoScale!=1){k.options.autoScale=1;k.reload()}}else{if(k.options.autoScale==1){k.options.autoScale=0;k.reload()}}}(function(j,m,s,o,k){var q=s.createElement("div"),g=q.style,c="Transform",z=["O"+c,"ms"+c,"Webkit"+c,"Moz"+c],w=z.length,a,h,D="Float32Array" in m,G,t,C=/Matrix([^)]*)/,n=/^\s*matrix\(\s*1\s*,\s*0\s*,\s*0\s*,\s*1\s*(?:,\s*0(?:px)?\s*){2}\)\s*$/,F="transform",H="transformOrigin",E="translate",e="rotate",p="scale",y="skew",b="matrix";while(w--){if(z[w] in g){j.support[F]=a=z[w];j.support[H]=a+"Origin";continue}}if(!a){j.support.matrixFilter=h=g.filter===""}j.cssNumber[F]=j.cssNumber[H]=true;if(a&&a!=F){j.cssProps[F]=a;j.cssProps[H]=a+"Origin";if(a=="Moz"+c){G={get:function(I,i){return(i?j.css(I,a).split("px").join(""):I.style[a])},set:function(i,I){i.style[a]=/matrix\([^)p]*\)/.test(I)?I.replace(/matrix((?:[^,]*,){4})([^,]*),([^)]*)/,b+"$1$2px,$3px"):I}}}else{if(/^1\.[0-5](?:\.|$)/.test(j.fn.jquery)){G={get:function(I,i){return(i?j.css(I,a.replace(/^ms/,"Ms")):I.style[a])}}}}}else{if(h){G={get:function(L,K,i){var J=(K&&L.currentStyle?L.currentStyle:L.style),I,M;if(J&&C.test(J.filter)){I=RegExp.$1.split(",");I=[I[0].split("=")[1],I[2].split("=")[1],I[1].split("=")[1],I[3].split("=")[1]]}else{I=[1,0,0,1]}if(!j.cssHooks[H]){I[4]=J?parseInt(J.left,10)||0:0;I[5]=J?parseInt(J.top,10)||0:0}else{M=j._data(L,"transformTranslate",k);I[4]=M?M[0]:0;I[5]=M?M[1]:0}return i?I:b+"("+I+")"},set:function(N,O,J){var I=N.style,K,i,M,L;if(!J){I.zoom=1}O=v(O);i=["Matrix(M11="+O[0],"M12="+O[2],"M21="+O[1],"M22="+O[3],"SizingMethod='auto expand'"].join();M=(K=N.currentStyle)&&K.filter||I.filter||"";I.filter=C.test(M)?M.replace(C,i):M+" progid:DXImageTransform.Microsoft."+i+")";if(!j.cssHooks[H]){if((L=j.transform.centerOrigin)){I[L=="margin"?"marginLeft":"left"]=-(N.offsetWidth/2)+(N.clientWidth/2)+"px";I[L=="margin"?"marginTop":"top"]=-(N.offsetHeight/2)+(N.clientHeight/2)+"px"}I.left=O[4]+"px";I.top=O[5]+"px"}else{j.cssHooks[H].set(N,O)}}}}}if(G){j.cssHooks[F]=G}t=G&&G.get||j.css;j.fx.step.transform=function(M){var L=M.elem,J=M.start,N=M.end,R=M.pos,K="",P=100000,O,I,Q,S;if(!J||typeof J==="string"){if(!J){J=t(L,a)}if(h){L.style.zoom=1}N=N.split("+=").join(J);j.extend(M,d(J,N));J=M.start;N=M.end}O=J.length;while(O--){I=J[O];Q=N[O];S=+false;switch(I[0]){case E:S="px";case p:S||(S="");K=I[0]+"("+o.round((I[1][0]+(Q[1][0]-I[1][0])*R)*P)/P+S+","+o.round((I[1][1]+(Q[1][1]-I[1][1])*R)*P)/P+S+")"+K;break;case y+"X":case y+"Y":case e:K=I[0]+"("+o.round((I[1]+(Q[1]-I[1])*R)*P)/P+"rad)"+K;break}}M.origin&&(K=M.origin+K);G&&G.set?G.set(L,K,+true):L.style[a]=K};function v(K){K=K.split(")");var L=j.trim,O=-1,N=K.length-1,Q,I,J,M=D?new Float32Array(6):[],R=D?new Float32Array(6):[],P=D?new Float32Array(6):[1,0,0,1,0,0];M[0]=M[3]=P[0]=P[3]=1;M[1]=M[2]=M[4]=M[5]=0;while(++O<N){Q=K[O].split("(");I=L(Q[0]);J=Q[1];R[0]=R[3]=1;R[1]=R[2]=R[4]=R[5]=0;switch(I){case E+"X":R[4]=parseInt(J,10);break;case E+"Y":R[5]=parseInt(J,10);break;case E:J=J.split(",");R[4]=parseInt(J[0],10);R[5]=parseInt(J[1]||0,10);break;case e:J=f(J);R[0]=o.cos(J);R[1]=o.sin(J);R[2]=-o.sin(J);R[3]=o.cos(J);break;case p+"X":R[0]=+J;break;case p+"Y":R[3]=J;break;case p:J=J.split(",");R[0]=J[0];R[3]=J.length>1?J[1]:J[0];break;case y+"X":R[2]=o.tan(f(J));break;case y+"Y":R[1]=o.tan(f(J));break;case b:J=J.split(",");R[0]=J[0];R[1]=J[1];R[2]=J[2];R[3]=J[3];R[4]=parseInt(J[4],10);R[5]=parseInt(J[5],10);break}P[0]=M[0]*R[0]+M[2]*R[1];P[1]=M[1]*R[0]+M[3]*R[1];P[2]=M[0]*R[2]+M[2]*R[3];P[3]=M[1]*R[2]+M[3]*R[3];P[4]=M[0]*R[4]+M[2]*R[5]+M[4];P[5]=M[1]*R[4]+M[3]*R[5]+M[5];M=[P[0],P[1],P[2],P[3],P[4],P[5]]}return P}function r(K){var L,J,I,i=K[0],O=K[1],N=K[2],M=K[3];if(i*M-O*N){L=o.sqrt(i*i+O*O);i/=L;O/=L;I=i*N+O*M;N-=i*I;M-=O*I;J=o.sqrt(N*N+M*M);N/=J;M/=J;I/=J;if(i*M<O*N){i=-i;O=-O;I=-I;L=-L}}else{L=J=I=0}return[[E,[+K[4],+K[5]]],[e,o.atan2(O,i)],[y+"X",o.atan(I)],[p,[L,J]]]}function d(P,J){var M={start:[],end:[]},K=-1,I,L,N,O;(P=="none"||B(P))&&(P="");(J=="none"||B(J))&&(J="");if(P&&J&&!J.indexOf("matrix")&&u(P).join()==u(J.split(")")[0]).join()){M.origin=P;P="";J=J.slice(J.indexOf(")")+1)}if(!P&&!J){return}if(!P||!J||x(P)==x(J)){P&&(P=P.split(")"))&&(I=P.length);J&&(J=J.split(")"))&&(I=J.length);while(++K<I-1){P[K]&&(L=P[K].split("("));J[K]&&(N=J[K].split("("));O=j.trim((L||N)[0]);A(M.start,l(O,L?L[1]:0));A(M.end,l(O,N?N[1]:0))}}else{M.start=r(v(P));M.end=r(v(J))}return M}function l(K,L){var I=+(!K.indexOf(p)),J,i=K.replace(/e[XY]/,"e");switch(K){case E+"Y":case p+"Y":L=[I,L?parseFloat(L):I];break;case E+"X":case E:case p+"X":J=1;case p:L=L?(L=L.split(","))&&[parseFloat(L[0]),parseFloat(L.length>1?L[1]:K==p?J||L[0]:I+"")]:[I,I];break;case y+"X":case y+"Y":case e:L=L?f(L):0;break;case b:return r(L?u(L):[1,0,0,1,0,0]);break}return[[i,L]]}function B(i){return n.test(i)}function x(i){return i.replace(/(?:\([^)]*\))|\s/g,"")}function A(I,i,J){while(J=i.shift()){I.push(J)}}function f(i){return ~i.indexOf("deg")?parseInt(i,10)*(o.PI*2/360):~i.indexOf("grad")?parseInt(i,10)*(o.PI/200):parseFloat(i)}function u(i){i=/([^,]*),([^,]*),([^,]*),([^,]*),([^,p]*)(?:px)?,([^)p]*)(?:px)?/.exec(i);return[i[1],i[2],i[3],i[4],i[5],i[6]]}j.transform={centerOrigin:"margin"}})(jQuery,window,document,Math);
/*
 * Swiper 2.6.1
 * Mobile touch slider and framework with hardware accelerated transitions
 *
 * http://www.idangero.us/sliders/swiper/
 *
 * Copyright 2010-2014, Vladimir Kharlampidi
 * The iDangero.us
 * http://www.idangero.us/
 *
 * Licensed under GPL & MIT
 *
 * Released on: May 6, 2014
*/
var Swiper=function(a,b){"use strict";function c(a,b){return document.querySelectorAll?(b||document).querySelectorAll(a):jQuery(a,b)}function d(a){return"[object Array]"===Object.prototype.toString.apply(a)?!0:!1}function e(){var a=F-I;return b.freeMode&&(a=F-I),b.slidesPerView>C.slides.length&&!b.centeredSlides&&(a=0),0>a&&(a=0),a}function f(){function a(a){var c=new Image;c.onload=function(){C&&void 0!==C.imagesLoaded&&C.imagesLoaded++,C.imagesLoaded===C.imagesToLoad.length&&(C.reInit(),b.onImagesReady&&C.fireCallback(b.onImagesReady,C))},c.src=a}var d=C.h.addEventListener,e="wrapper"===b.eventTarget?C.wrapper:C.container;if(C.browser.ie10||C.browser.ie11?(d(e,C.touchEvents.touchStart,p),d(document,C.touchEvents.touchMove,q),d(document,C.touchEvents.touchEnd,r)):(C.support.touch&&(d(e,"touchstart",p),d(e,"touchmove",q),d(e,"touchend",r)),b.simulateTouch&&(d(e,"mousedown",p),d(document,"mousemove",q),d(document,"mouseup",r))),b.autoResize&&d(window,"resize",C.resizeFix),g(),C._wheelEvent=!1,b.mousewheelControl){if(void 0!==document.onmousewheel&&(C._wheelEvent="mousewheel"),!C._wheelEvent)try{new WheelEvent("wheel"),C._wheelEvent="wheel"}catch(f){}C._wheelEvent||(C._wheelEvent="DOMMouseScroll"),C._wheelEvent&&d(C.container,C._wheelEvent,j)}if(b.keyboardControl&&d(document,"keydown",i),b.updateOnImagesReady){C.imagesToLoad=c("img",C.container);for(var h=0;h<C.imagesToLoad.length;h++)a(C.imagesToLoad[h].getAttribute("src"))}}function g(){var a,d=C.h.addEventListener;if(b.preventLinks){var e=c("a",C.container);for(a=0;a<e.length;a++)d(e[a],"click",n)}if(b.releaseFormElements){var f=c("input, textarea, select",C.container);for(a=0;a<f.length;a++)d(f[a],C.touchEvents.touchStart,o,!0)}if(b.onSlideClick)for(a=0;a<C.slides.length;a++)d(C.slides[a],"click",k);if(b.onSlideTouch)for(a=0;a<C.slides.length;a++)d(C.slides[a],C.touchEvents.touchStart,l)}function h(){var a,d=C.h.removeEventListener;if(b.onSlideClick)for(a=0;a<C.slides.length;a++)d(C.slides[a],"click",k);if(b.onSlideTouch)for(a=0;a<C.slides.length;a++)d(C.slides[a],C.touchEvents.touchStart,l);if(b.releaseFormElements){var e=c("input, textarea, select",C.container);for(a=0;a<e.length;a++)d(e[a],C.touchEvents.touchStart,o,!0)}if(b.preventLinks){var f=c("a",C.container);for(a=0;a<f.length;a++)d(f[a],"click",n)}}function i(a){var b=a.keyCode||a.charCode;if(!(a.shiftKey||a.altKey||a.ctrlKey||a.metaKey)){if(37===b||39===b||38===b||40===b){for(var c=!1,d=C.h.getOffset(C.container),e=C.h.windowScroll().left,f=C.h.windowScroll().top,g=C.h.windowWidth(),h=C.h.windowHeight(),i=[[d.left,d.top],[d.left+C.width,d.top],[d.left,d.top+C.height],[d.left+C.width,d.top+C.height]],j=0;j<i.length;j++){var k=i[j];k[0]>=e&&k[0]<=e+g&&k[1]>=f&&k[1]<=f+h&&(c=!0)}if(!c)return}M?((37===b||39===b)&&(a.preventDefault?a.preventDefault():a.returnValue=!1),39===b&&C.swipeNext(),37===b&&C.swipePrev()):((38===b||40===b)&&(a.preventDefault?a.preventDefault():a.returnValue=!1),40===b&&C.swipeNext(),38===b&&C.swipePrev())}}function j(a){var c=C._wheelEvent,d=0;if(a.detail)d=-a.detail;else if("mousewheel"===c)if(b.mousewheelControlForceToAxis)if(M){if(!(Math.abs(a.wheelDeltaX)>Math.abs(a.wheelDeltaY)))return;d=a.wheelDeltaX}else{if(!(Math.abs(a.wheelDeltaY)>Math.abs(a.wheelDeltaX)))return;d=a.wheelDeltaY}else d=a.wheelDelta;else if("DOMMouseScroll"===c)d=-a.detail;else if("wheel"===c)if(b.mousewheelControlForceToAxis)if(M){if(!(Math.abs(a.deltaX)>Math.abs(a.deltaY)))return;d=-a.deltaX}else{if(!(Math.abs(a.deltaY)>Math.abs(a.deltaX)))return;d=-a.deltaY}else d=Math.abs(a.deltaX)>Math.abs(a.deltaY)?-a.deltaX:-a.deltaY;if(b.freeMode){var f=C.getWrapperTranslate()+d;if(f>0&&(f=0),f<-e()&&(f=-e()),C.setWrapperTransition(0),C.setWrapperTranslate(f),C.updateActiveSlide(f),0===f||f===-e())return}else(new Date).getTime()-U>60&&(0>d?C.swipeNext():C.swipePrev()),U=(new Date).getTime();return b.autoplay&&C.stopAutoplay(!0),a.preventDefault?a.preventDefault():a.returnValue=!1,!1}function k(a){C.allowSlideClick&&(m(a),C.fireCallback(b.onSlideClick,C,a))}function l(a){m(a),C.fireCallback(b.onSlideTouch,C,a)}function m(a){if(a.currentTarget)C.clickedSlide=a.currentTarget;else{var c=a.srcElement;do{if(c.className.indexOf(b.slideClass)>-1)break;c=c.parentNode}while(c);C.clickedSlide=c}C.clickedSlideIndex=C.slides.indexOf(C.clickedSlide),C.clickedSlideLoopIndex=C.clickedSlideIndex-(C.loopedSlides||0)}function n(a){return C.allowLinks?void 0:(a.preventDefault?a.preventDefault():a.returnValue=!1,b.preventLinksPropagation&&"stopPropagation"in a&&a.stopPropagation(),!1)}function o(a){return a.stopPropagation?a.stopPropagation():a.returnValue=!1,!1}function p(a){if(b.preventLinks&&(C.allowLinks=!0),C.isTouched||b.onlyExternal)return!1;if(b.noSwiping&&(a.target||a.srcElement)&&s(a.target||a.srcElement))return!1;if($=!1,C.isTouched=!0,Z="touchstart"===a.type,!Z||1===a.targetTouches.length){C.callPlugins("onTouchStartBegin"),Z||C.isAndroid||(a.preventDefault?a.preventDefault():a.returnValue=!1);var c=Z?a.targetTouches[0].pageX:a.pageX||a.clientX,d=Z?a.targetTouches[0].pageY:a.pageY||a.clientY;C.touches.startX=C.touches.currentX=c,C.touches.startY=C.touches.currentY=d,C.touches.start=C.touches.current=M?c:d,C.setWrapperTransition(0),C.positions.start=C.positions.current=C.getWrapperTranslate(),C.setWrapperTranslate(C.positions.start),C.times.start=(new Date).getTime(),H=void 0,b.moveStartThreshold>0&&(W=!1),b.onTouchStart&&C.fireCallback(b.onTouchStart,C,a),C.callPlugins("onTouchStartEnd")}}function q(a){if(C.isTouched&&!b.onlyExternal&&(!Z||"mousemove"!==a.type)){var c=Z?a.targetTouches[0].pageX:a.pageX||a.clientX,d=Z?a.targetTouches[0].pageY:a.pageY||a.clientY;if("undefined"==typeof H&&M&&(H=!!(H||Math.abs(d-C.touches.startY)>Math.abs(c-C.touches.startX))),"undefined"!=typeof H||M||(H=!!(H||Math.abs(d-C.touches.startY)<Math.abs(c-C.touches.startX))),H)return void(C.isTouched=!1);if(a.assignedToSwiper)return void(C.isTouched=!1);if(a.assignedToSwiper=!0,b.preventLinks&&(C.allowLinks=!1),b.onSlideClick&&(C.allowSlideClick=!1),b.autoplay&&C.stopAutoplay(!0),!Z||1===a.touches.length){if(C.isMoved||(C.callPlugins("onTouchMoveStart"),b.loop&&(C.fixLoop(),C.positions.start=C.getWrapperTranslate()),b.onTouchMoveStart&&C.fireCallback(b.onTouchMoveStart,C)),C.isMoved=!0,a.preventDefault?a.preventDefault():a.returnValue=!1,C.touches.current=M?c:d,C.positions.current=(C.touches.current-C.touches.start)*b.touchRatio+C.positions.start,C.positions.current>0&&b.onResistanceBefore&&C.fireCallback(b.onResistanceBefore,C,C.positions.current),C.positions.current<-e()&&b.onResistanceAfter&&C.fireCallback(b.onResistanceAfter,C,Math.abs(C.positions.current+e())),b.resistance&&"100%"!==b.resistance){var f;if(C.positions.current>0&&(f=1-C.positions.current/I/2,C.positions.current=.5>f?I/2:C.positions.current*f),C.positions.current<-e()){var g=(C.touches.current-C.touches.start)*b.touchRatio+(e()+C.positions.start);f=(I+g)/I;var h=C.positions.current-g*(1-f)/2,i=-e()-I/2;C.positions.current=i>h||0>=f?i:h}}if(b.resistance&&"100%"===b.resistance&&(C.positions.current>0&&(!b.freeMode||b.freeModeFluid)&&(C.positions.current=0),C.positions.current<-e()&&(!b.freeMode||b.freeModeFluid)&&(C.positions.current=-e())),!b.followFinger)return;if(b.moveStartThreshold)if(Math.abs(C.touches.current-C.touches.start)>b.moveStartThreshold||W){if(!W)return W=!0,void(C.touches.start=C.touches.current);C.setWrapperTranslate(C.positions.current)}else C.positions.current=C.positions.start;else C.setWrapperTranslate(C.positions.current);return(b.freeMode||b.watchActiveIndex)&&C.updateActiveSlide(C.positions.current),b.grabCursor&&(C.container.style.cursor="move",C.container.style.cursor="grabbing",C.container.style.cursor="-moz-grabbin",C.container.style.cursor="-webkit-grabbing"),X||(X=C.touches.current),Y||(Y=(new Date).getTime()),C.velocity=(C.touches.current-X)/((new Date).getTime()-Y)/2,Math.abs(C.touches.current-X)<2&&(C.velocity=0),X=C.touches.current,Y=(new Date).getTime(),C.callPlugins("onTouchMoveEnd"),b.onTouchMove&&C.fireCallback(b.onTouchMove,C,a),!1}}}function r(a){if(H&&C.swipeReset(),!b.onlyExternal&&C.isTouched){C.isTouched=!1,b.grabCursor&&(C.container.style.cursor="move",C.container.style.cursor="grab",C.container.style.cursor="-moz-grab",C.container.style.cursor="-webkit-grab"),C.positions.current||0===C.positions.current||(C.positions.current=C.positions.start),b.followFinger&&C.setWrapperTranslate(C.positions.current),C.times.end=(new Date).getTime(),C.touches.diff=C.touches.current-C.touches.start,C.touches.abs=Math.abs(C.touches.diff),C.positions.diff=C.positions.current-C.positions.start,C.positions.abs=Math.abs(C.positions.diff);var c=C.positions.diff,d=C.positions.abs,f=C.times.end-C.times.start;5>d&&300>f&&C.allowLinks===!1&&(b.freeMode||0===d||C.swipeReset(),b.preventLinks&&(C.allowLinks=!0),b.onSlideClick&&(C.allowSlideClick=!0)),setTimeout(function(){b.preventLinks&&(C.allowLinks=!0),b.onSlideClick&&(C.allowSlideClick=!0)},100);var g=e();if(!C.isMoved&&b.freeMode)return C.isMoved=!1,b.onTouchEnd&&C.fireCallback(b.onTouchEnd,C,a),void C.callPlugins("onTouchEnd");if(!C.isMoved||C.positions.current>0||C.positions.current<-g)return C.swipeReset(),b.onTouchEnd&&C.fireCallback(b.onTouchEnd,C,a),void C.callPlugins("onTouchEnd");if(C.isMoved=!1,b.freeMode){if(b.freeModeFluid){var h,i=1e3*b.momentumRatio,j=C.velocity*i,k=C.positions.current+j,l=!1,m=20*Math.abs(C.velocity)*b.momentumBounceRatio;-g>k&&(b.momentumBounce&&C.support.transitions?(-m>k+g&&(k=-g-m),h=-g,l=!0,$=!0):k=-g),k>0&&(b.momentumBounce&&C.support.transitions?(k>m&&(k=m),h=0,l=!0,$=!0):k=0),0!==C.velocity&&(i=Math.abs((k-C.positions.current)/C.velocity)),C.setWrapperTranslate(k),C.setWrapperTransition(i),b.momentumBounce&&l&&C.wrapperTransitionEnd(function(){$&&(b.onMomentumBounce&&C.fireCallback(b.onMomentumBounce,C),C.callPlugins("onMomentumBounce"),C.setWrapperTranslate(h),C.setWrapperTransition(300))}),C.updateActiveSlide(k)}return(!b.freeModeFluid||f>=300)&&C.updateActiveSlide(C.positions.current),b.onTouchEnd&&C.fireCallback(b.onTouchEnd,C,a),void C.callPlugins("onTouchEnd")}G=0>c?"toNext":"toPrev","toNext"===G&&300>=f&&(30>d||!b.shortSwipes?C.swipeReset():C.swipeNext(!0)),"toPrev"===G&&300>=f&&(30>d||!b.shortSwipes?C.swipeReset():C.swipePrev(!0));var n=0;if("auto"===b.slidesPerView){for(var o,p=Math.abs(C.getWrapperTranslate()),q=0,r=0;r<C.slides.length;r++)if(o=M?C.slides[r].getWidth(!0,b.roundLengths):C.slides[r].getHeight(!0,b.roundLengths),q+=o,q>p){n=o;break}n>I&&(n=I)}else n=E*b.slidesPerView;"toNext"===G&&f>300&&(d>=n*b.longSwipesRatio?C.swipeNext(!0):C.swipeReset()),"toPrev"===G&&f>300&&(d>=n*b.longSwipesRatio?C.swipePrev(!0):C.swipeReset()),b.onTouchEnd&&C.fireCallback(b.onTouchEnd,C,a),C.callPlugins("onTouchEnd")}}function s(a){var c=!1;do a.className.indexOf(b.noSwipingClass)>-1&&(c=!0),a=a.parentElement;while(!c&&a.parentElement&&-1===a.className.indexOf(b.wrapperClass));return!c&&a.className.indexOf(b.wrapperClass)>-1&&a.className.indexOf(b.noSwipingClass)>-1&&(c=!0),c}function t(a,b){var c,d=document.createElement("div");return d.innerHTML=b,c=d.firstChild,c.className+=" "+a,c.outerHTML}function u(a,c,d){function e(){var f=+new Date,l=f-g;h+=i*l/(1e3/60),k="toNext"===j?h>a:a>h,k?(C.setWrapperTranslate(Math.round(h)),C._DOMAnimating=!0,window.setTimeout(function(){e()},1e3/60)):(b.onSlideChangeEnd&&("to"===c?d.runCallbacks===!0&&C.fireCallback(b.onSlideChangeEnd,C):C.fireCallback(b.onSlideChangeEnd,C)),C.setWrapperTranslate(a),C._DOMAnimating=!1)}var f="to"===c&&d.speed>=0?d.speed:b.speed,g=+new Date;if(C.support.transitions||!b.DOMAnimation)C.setWrapperTranslate(a),C.setWrapperTransition(f);else{var h=C.getWrapperTranslate(),i=Math.ceil((a-h)/f*(1e3/60)),j=h>a?"toNext":"toPrev",k="toNext"===j?h>a:a>h;if(C._DOMAnimating)return;e()}C.updateActiveSlide(a),b.onSlideNext&&"next"===c&&C.fireCallback(b.onSlideNext,C,a),b.onSlidePrev&&"prev"===c&&C.fireCallback(b.onSlidePrev,C,a),b.onSlideReset&&"reset"===c&&C.fireCallback(b.onSlideReset,C,a),("next"===c||"prev"===c||"to"===c&&d.runCallbacks===!0)&&v(c)}function v(a){if(C.callPlugins("onSlideChangeStart"),b.onSlideChangeStart)if(b.queueStartCallbacks&&C.support.transitions){if(C._queueStartCallbacks)return;C._queueStartCallbacks=!0,C.fireCallback(b.onSlideChangeStart,C,a),C.wrapperTransitionEnd(function(){C._queueStartCallbacks=!1})}else C.fireCallback(b.onSlideChangeStart,C,a);if(b.onSlideChangeEnd)if(C.support.transitions)if(b.queueEndCallbacks){if(C._queueEndCallbacks)return;C._queueEndCallbacks=!0,C.wrapperTransitionEnd(function(c){C.fireCallback(b.onSlideChangeEnd,c,a)})}else C.wrapperTransitionEnd(function(c){C.fireCallback(b.onSlideChangeEnd,c,a)});else b.DOMAnimation||setTimeout(function(){C.fireCallback(b.onSlideChangeEnd,C,a)},10)}function w(){var a=C.paginationButtons;if(a)for(var b=0;b<a.length;b++)C.h.removeEventListener(a[b],"click",y)}function x(){var a=C.paginationButtons;if(a)for(var b=0;b<a.length;b++)C.h.addEventListener(a[b],"click",y)}function y(a){for(var b,c=a.target||a.srcElement,d=C.paginationButtons,e=0;e<d.length;e++)c===d[e]&&(b=e);C.swipeTo(b)}function z(){_=setTimeout(function(){b.loop?(C.fixLoop(),C.swipeNext(!0)):C.swipeNext(!0)||(b.autoplayStopOnLast?(clearTimeout(_),_=void 0):C.swipeTo(0)),C.wrapperTransitionEnd(function(){"undefined"!=typeof _&&z()})},b.autoplay)}function A(){C.calcSlides(),b.loader.slides.length>0&&0===C.slides.length&&C.loadSlides(),b.loop&&C.createLoop(),C.init(),f(),b.pagination&&C.createPagination(!0),b.loop||b.initialSlide>0?C.swipeTo(b.initialSlide,0,!1):C.updateActiveSlide(0),b.autoplay&&C.startAutoplay(),C.centerIndex=C.activeIndex,b.onSwiperCreated&&C.fireCallback(b.onSwiperCreated,C),C.callPlugins("onSwiperCreated")}if(document.body.__defineGetter__&&HTMLElement){var B=HTMLElement.prototype;B.__defineGetter__&&B.__defineGetter__("outerHTML",function(){return(new XMLSerializer).serializeToString(this)})}if(window.getComputedStyle||(window.getComputedStyle=function(a){return this.el=a,this.getPropertyValue=function(b){var c=/(\-([a-z]){1})/g;return"float"===b&&(b="styleFloat"),c.test(b)&&(b=b.replace(c,function(){return arguments[2].toUpperCase()})),a.currentStyle[b]?a.currentStyle[b]:null},this}),Array.prototype.indexOf||(Array.prototype.indexOf=function(a,b){for(var c=b||0,d=this.length;d>c;c++)if(this[c]===a)return c;return-1}),(document.querySelectorAll||window.jQuery)&&"undefined"!=typeof a&&(a.nodeType||0!==c(a).length)){var C=this;C.touches={start:0,startX:0,startY:0,current:0,currentX:0,currentY:0,diff:0,abs:0},C.positions={start:0,abs:0,diff:0,current:0},C.times={start:0,end:0},C.id=(new Date).getTime(),C.container=a.nodeType?a:c(a)[0],C.isTouched=!1,C.isMoved=!1,C.activeIndex=0,C.centerIndex=0,C.activeLoaderIndex=0,C.activeLoopIndex=0,C.previousIndex=null,C.velocity=0,C.snapGrid=[],C.slidesGrid=[],C.imagesToLoad=[],C.imagesLoaded=0,C.wrapperLeft=0,C.wrapperRight=0,C.wrapperTop=0,C.wrapperBottom=0,C.isAndroid=navigator.userAgent.toLowerCase().indexOf("android")>=0;var D,E,F,G,H,I,J={eventTarget:"wrapper",mode:"horizontal",touchRatio:1,speed:300,freeMode:!1,freeModeFluid:!1,momentumRatio:1,momentumBounce:!0,momentumBounceRatio:1,slidesPerView:1,slidesPerGroup:1,slidesPerViewFit:!0,simulateTouch:!0,followFinger:!0,shortSwipes:!0,longSwipesRatio:.5,moveStartThreshold:!1,onlyExternal:!1,createPagination:!0,pagination:!1,paginationElement:"span",paginationClickable:!1,paginationAsRange:!0,resistance:!0,scrollContainer:!1,preventLinks:!0,preventLinksPropagation:!1,noSwiping:!1,noSwipingClass:"swiper-no-swiping",initialSlide:0,keyboardControl:!1,mousewheelControl:!1,mousewheelControlForceToAxis:!1,useCSS3Transforms:!0,autoplay:!1,autoplayDisableOnInteraction:!0,autoplayStopOnLast:!1,loop:!1,loopAdditionalSlides:0,roundLengths:!1,calculateHeight:!1,cssWidthAndHeight:!1,updateOnImagesReady:!0,releaseFormElements:!0,watchActiveIndex:!1,visibilityFullFit:!1,offsetPxBefore:0,offsetPxAfter:0,offsetSlidesBefore:0,offsetSlidesAfter:0,centeredSlides:!1,queueStartCallbacks:!1,queueEndCallbacks:!1,autoResize:!0,resizeReInit:!1,DOMAnimation:!0,loader:{slides:[],slidesHTMLType:"inner",surroundGroups:1,logic:"reload",loadAllSlides:!1},slideElement:"div",slideClass:"swiper-slide",slideActiveClass:"swiper-slide-active",slideVisibleClass:"swiper-slide-visible",slideDuplicateClass:"swiper-slide-duplicate",wrapperClass:"swiper-wrapper",paginationElementClass:"swiper-pagination-switch",paginationActiveClass:"swiper-active-switch",paginationVisibleClass:"swiper-visible-switch"};b=b||{};for(var K in J)if(K in b&&"object"==typeof b[K])for(var L in J[K])L in b[K]||(b[K][L]=J[K][L]);else K in b||(b[K]=J[K]);C.params=b,b.scrollContainer&&(b.freeMode=!0,b.freeModeFluid=!0),b.loop&&(b.resistance="100%");var M="horizontal"===b.mode,N=["mousedown","mousemove","mouseup"];C.browser.ie10&&(N=["MSPointerDown","MSPointerMove","MSPointerUp"]),C.browser.ie11&&(N=["pointerdown","pointermove","pointerup"]),C.touchEvents={touchStart:C.support.touch||!b.simulateTouch?"touchstart":N[0],touchMove:C.support.touch||!b.simulateTouch?"touchmove":N[1],touchEnd:C.support.touch||!b.simulateTouch?"touchend":N[2]};for(var O=C.container.childNodes.length-1;O>=0;O--)if(C.container.childNodes[O].className)for(var P=C.container.childNodes[O].className.split(/\s+/),Q=0;Q<P.length;Q++)P[Q]===b.wrapperClass&&(D=C.container.childNodes[O]);C.wrapper=D,C._extendSwiperSlide=function(a){return a.append=function(){return b.loop?a.insertAfter(C.slides.length-C.loopedSlides):(C.wrapper.appendChild(a),C.reInit()),a},a.prepend=function(){return b.loop?(C.wrapper.insertBefore(a,C.slides[C.loopedSlides]),C.removeLoopedSlides(),C.calcSlides(),C.createLoop()):C.wrapper.insertBefore(a,C.wrapper.firstChild),C.reInit(),a},a.insertAfter=function(c){if("undefined"==typeof c)return!1;var d;return b.loop?(d=C.slides[c+1+C.loopedSlides],d?C.wrapper.insertBefore(a,d):C.wrapper.appendChild(a),C.removeLoopedSlides(),C.calcSlides(),C.createLoop()):(d=C.slides[c+1],C.wrapper.insertBefore(a,d)),C.reInit(),a},a.clone=function(){return C._extendSwiperSlide(a.cloneNode(!0))},a.remove=function(){C.wrapper.removeChild(a),C.reInit()},a.html=function(b){return"undefined"==typeof b?a.innerHTML:(a.innerHTML=b,a)},a.index=function(){for(var b,c=C.slides.length-1;c>=0;c--)a===C.slides[c]&&(b=c);return b},a.isActive=function(){return a.index()===C.activeIndex?!0:!1},a.swiperSlideDataStorage||(a.swiperSlideDataStorage={}),a.getData=function(b){return a.swiperSlideDataStorage[b]},a.setData=function(b,c){return a.swiperSlideDataStorage[b]=c,a},a.data=function(b,c){return"undefined"==typeof c?a.getAttribute("data-"+b):(a.setAttribute("data-"+b,c),a)},a.getWidth=function(b,c){return C.h.getWidth(a,b,c)},a.getHeight=function(b,c){return C.h.getHeight(a,b,c)},a.getOffset=function(){return C.h.getOffset(a)},a},C.calcSlides=function(a){var c=C.slides?C.slides.length:!1;C.slides=[],C.displaySlides=[];for(var d=0;d<C.wrapper.childNodes.length;d++)if(C.wrapper.childNodes[d].className)for(var e=C.wrapper.childNodes[d].className,f=e.split(/\s+/),i=0;i<f.length;i++)f[i]===b.slideClass&&C.slides.push(C.wrapper.childNodes[d]);for(d=C.slides.length-1;d>=0;d--)C._extendSwiperSlide(C.slides[d]);c!==!1&&(c!==C.slides.length||a)&&(h(),g(),C.updateActiveSlide(),C.params.pagination&&C.createPagination(),C.callPlugins("numberOfSlidesChanged"))},C.createSlide=function(a,c,d){c=c||C.params.slideClass,d=d||b.slideElement;var e=document.createElement(d);return e.innerHTML=a||"",e.className=c,C._extendSwiperSlide(e)},C.appendSlide=function(a,b,c){return a?a.nodeType?C._extendSwiperSlide(a).append():C.createSlide(a,b,c).append():void 0},C.prependSlide=function(a,b,c){return a?a.nodeType?C._extendSwiperSlide(a).prepend():C.createSlide(a,b,c).prepend():void 0},C.insertSlideAfter=function(a,b,c,d){return"undefined"==typeof a?!1:b.nodeType?C._extendSwiperSlide(b).insertAfter(a):C.createSlide(b,c,d).insertAfter(a)},C.removeSlide=function(a){if(C.slides[a]){if(b.loop){if(!C.slides[a+C.loopedSlides])return!1;C.slides[a+C.loopedSlides].remove(),C.removeLoopedSlides(),C.calcSlides(),C.createLoop()}else C.slides[a].remove();return!0}return!1},C.removeLastSlide=function(){return C.slides.length>0?(b.loop?(C.slides[C.slides.length-1-C.loopedSlides].remove(),C.removeLoopedSlides(),C.calcSlides(),C.createLoop()):C.slides[C.slides.length-1].remove(),!0):!1},C.removeAllSlides=function(){for(var a=C.slides.length-1;a>=0;a--)C.slides[a].remove()},C.getSlide=function(a){return C.slides[a]},C.getLastSlide=function(){return C.slides[C.slides.length-1]},C.getFirstSlide=function(){return C.slides[0]},C.activeSlide=function(){return C.slides[C.activeIndex]},C.fireCallback=function(){var a=arguments[0];if("[object Array]"===Object.prototype.toString.call(a))for(var c=0;c<a.length;c++)"function"==typeof a[c]&&a[c](arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]);else"[object String]"===Object.prototype.toString.call(a)?b["on"+a]&&C.fireCallback(b["on"+a],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]):a(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5])},C.addCallback=function(a,b){var c,e=this;return e.params["on"+a]?d(this.params["on"+a])?this.params["on"+a].push(b):"function"==typeof this.params["on"+a]?(c=this.params["on"+a],this.params["on"+a]=[],this.params["on"+a].push(c),this.params["on"+a].push(b)):void 0:(this.params["on"+a]=[],this.params["on"+a].push(b))},C.removeCallbacks=function(a){C.params["on"+a]&&(C.params["on"+a]=null)};var R=[];for(var S in C.plugins)if(b[S]){var T=C.plugins[S](C,b[S]);T&&R.push(T)}C.callPlugins=function(a,b){b||(b={});for(var c=0;c<R.length;c++)a in R[c]&&R[c][a](b)},!C.browser.ie10&&!C.browser.ie11||b.onlyExternal||C.wrapper.classList.add("swiper-wp8-"+(M?"horizontal":"vertical")),b.freeMode&&(C.container.className+=" swiper-free-mode"),C.initialized=!1,C.init=function(a,c){var d=C.h.getWidth(C.container,!1,b.roundLengths),e=C.h.getHeight(C.container,!1,b.roundLengths);if(d!==C.width||e!==C.height||a){C.width=d,C.height=e;var f,g,h,i,j,k,l;I=M?d:e;var m=C.wrapper;if(a&&C.calcSlides(c),"auto"===b.slidesPerView){var n=0,o=0;b.slidesOffset>0&&(m.style.paddingLeft="",m.style.paddingRight="",m.style.paddingTop="",m.style.paddingBottom=""),m.style.width="",m.style.height="",b.offsetPxBefore>0&&(M?C.wrapperLeft=b.offsetPxBefore:C.wrapperTop=b.offsetPxBefore),b.offsetPxAfter>0&&(M?C.wrapperRight=b.offsetPxAfter:C.wrapperBottom=b.offsetPxAfter),b.centeredSlides&&(M?(C.wrapperLeft=(I-this.slides[0].getWidth(!0,b.roundLengths))/2,C.wrapperRight=(I-C.slides[C.slides.length-1].getWidth(!0,b.roundLengths))/2):(C.wrapperTop=(I-C.slides[0].getHeight(!0,b.roundLengths))/2,C.wrapperBottom=(I-C.slides[C.slides.length-1].getHeight(!0,b.roundLengths))/2)),M?(C.wrapperLeft>=0&&(m.style.paddingLeft=C.wrapperLeft+"px"),C.wrapperRight>=0&&(m.style.paddingRight=C.wrapperRight+"px")):(C.wrapperTop>=0&&(m.style.paddingTop=C.wrapperTop+"px"),C.wrapperBottom>=0&&(m.style.paddingBottom=C.wrapperBottom+"px")),k=0;var p=0;for(C.snapGrid=[],C.slidesGrid=[],h=0,l=0;l<C.slides.length;l++){f=C.slides[l].getWidth(!0,b.roundLengths),g=C.slides[l].getHeight(!0,b.roundLengths),b.calculateHeight&&(h=Math.max(h,g));var q=M?f:g;if(b.centeredSlides){var r=l===C.slides.length-1?0:C.slides[l+1].getWidth(!0,b.roundLengths),s=l===C.slides.length-1?0:C.slides[l+1].getHeight(!0,b.roundLengths),t=M?r:s;if(q>I){if(b.slidesPerViewFit)C.snapGrid.push(k+C.wrapperLeft),C.snapGrid.push(k+q-I+C.wrapperLeft);else for(var u=0;u<=Math.floor(q/(I+C.wrapperLeft));u++)C.snapGrid.push(0===u?k+C.wrapperLeft:k+C.wrapperLeft+I*u);C.slidesGrid.push(k+C.wrapperLeft)}else C.snapGrid.push(p),C.slidesGrid.push(p);p+=q/2+t/2}else{if(q>I)if(b.slidesPerViewFit)C.snapGrid.push(k),C.snapGrid.push(k+q-I);else if(0!==I)for(var v=0;v<=Math.floor(q/I);v++)C.snapGrid.push(k+I*v);else C.snapGrid.push(k);else C.snapGrid.push(k);C.slidesGrid.push(k)}k+=q,n+=f,o+=g}b.calculateHeight&&(C.height=h),M?(F=n+C.wrapperRight+C.wrapperLeft,m.style.width=n+"px",m.style.height=C.height+"px"):(F=o+C.wrapperTop+C.wrapperBottom,m.style.width=C.width+"px",m.style.height=o+"px")}else if(b.scrollContainer)m.style.width="",m.style.height="",i=C.slides[0].getWidth(!0,b.roundLengths),j=C.slides[0].getHeight(!0,b.roundLengths),F=M?i:j,m.style.width=i+"px",m.style.height=j+"px",E=M?i:j;else{if(b.calculateHeight){for(h=0,j=0,M||(C.container.style.height=""),m.style.height="",l=0;l<C.slides.length;l++)C.slides[l].style.height="",h=Math.max(C.slides[l].getHeight(!0),h),M||(j+=C.slides[l].getHeight(!0));g=h,C.height=g,M?j=g:(I=g,C.container.style.height=I+"px")}else g=M?C.height:C.height/b.slidesPerView,b.roundLengths&&(g=Math.round(g)),j=M?C.height:C.slides.length*g;for(f=M?C.width/b.slidesPerView:C.width,b.roundLengths&&(f=Math.round(f)),i=M?C.slides.length*f:C.width,E=M?f:g,b.offsetSlidesBefore>0&&(M?C.wrapperLeft=E*b.offsetSlidesBefore:C.wrapperTop=E*b.offsetSlidesBefore),b.offsetSlidesAfter>0&&(M?C.wrapperRight=E*b.offsetSlidesAfter:C.wrapperBottom=E*b.offsetSlidesAfter),b.offsetPxBefore>0&&(M?C.wrapperLeft=b.offsetPxBefore:C.wrapperTop=b.offsetPxBefore),b.offsetPxAfter>0&&(M?C.wrapperRight=b.offsetPxAfter:C.wrapperBottom=b.offsetPxAfter),b.centeredSlides&&(M?(C.wrapperLeft=(I-E)/2,C.wrapperRight=(I-E)/2):(C.wrapperTop=(I-E)/2,C.wrapperBottom=(I-E)/2)),M?(C.wrapperLeft>0&&(m.style.paddingLeft=C.wrapperLeft+"px"),C.wrapperRight>0&&(m.style.paddingRight=C.wrapperRight+"px")):(C.wrapperTop>0&&(m.style.paddingTop=C.wrapperTop+"px"),C.wrapperBottom>0&&(m.style.paddingBottom=C.wrapperBottom+"px")),F=M?i+C.wrapperRight+C.wrapperLeft:j+C.wrapperTop+C.wrapperBottom,b.cssWidthAndHeight||(parseFloat(i)>0&&(m.style.width=i+"px"),parseFloat(j)>0&&(m.style.height=j+"px")),k=0,C.snapGrid=[],C.slidesGrid=[],l=0;l<C.slides.length;l++)C.snapGrid.push(k),C.slidesGrid.push(k),k+=E,b.cssWidthAndHeight||(parseFloat(f)>0&&(C.slides[l].style.width=f+"px"),parseFloat(g)>0&&(C.slides[l].style.height=g+"px"))}C.initialized?(C.callPlugins("onInit"),b.onInit&&C.fireCallback(b.onInit,C)):(C.callPlugins("onFirstInit"),b.onFirstInit&&C.fireCallback(b.onFirstInit,C)),C.initialized=!0}},C.reInit=function(a){C.init(!0,a)},C.resizeFix=function(a){C.callPlugins("beforeResizeFix"),C.init(b.resizeReInit||a),b.freeMode?C.getWrapperTranslate()<-e()&&(C.setWrapperTransition(0),C.setWrapperTranslate(-e())):(C.swipeTo(b.loop?C.activeLoopIndex:C.activeIndex,0,!1),b.autoplay&&(C.support.transitions&&"undefined"!=typeof _?"undefined"!=typeof _&&(clearTimeout(_),_=void 0,C.startAutoplay()):"undefined"!=typeof ab&&(clearInterval(ab),ab=void 0,C.startAutoplay()))),C.callPlugins("afterResizeFix")},C.destroy=function(){var a=C.h.removeEventListener,c="wrapper"===b.eventTarget?C.wrapper:C.container;C.browser.ie10||C.browser.ie11?(a(c,C.touchEvents.touchStart,p),a(document,C.touchEvents.touchMove,q),a(document,C.touchEvents.touchEnd,r)):(C.support.touch&&(a(c,"touchstart",p),a(c,"touchmove",q),a(c,"touchend",r)),b.simulateTouch&&(a(c,"mousedown",p),a(document,"mousemove",q),a(document,"mouseup",r))),b.autoResize&&a(window,"resize",C.resizeFix),h(),b.paginationClickable&&w(),b.mousewheelControl&&C._wheelEvent&&a(C.container,C._wheelEvent,j),b.keyboardControl&&a(document,"keydown",i),b.autoplay&&C.stopAutoplay(),C.callPlugins("onDestroy"),C=null},C.disableKeyboardControl=function(){b.keyboardControl=!1,C.h.removeEventListener(document,"keydown",i)},C.enableKeyboardControl=function(){b.keyboardControl=!0,C.h.addEventListener(document,"keydown",i)};var U=(new Date).getTime();if(C.disableMousewheelControl=function(){return C._wheelEvent?(b.mousewheelControl=!1,C.h.removeEventListener(C.container,C._wheelEvent,j),!0):!1},C.enableMousewheelControl=function(){return C._wheelEvent?(b.mousewheelControl=!0,C.h.addEventListener(C.container,C._wheelEvent,j),!0):!1},b.grabCursor){var V=C.container.style;V.cursor="move",V.cursor="grab",V.cursor="-moz-grab",V.cursor="-webkit-grab"}C.allowSlideClick=!0,C.allowLinks=!0;var W,X,Y,Z=!1,$=!0;C.swipeNext=function(a){!a&&b.loop&&C.fixLoop(),!a&&b.autoplay&&C.stopAutoplay(!0),C.callPlugins("onSwipeNext");var c=C.getWrapperTranslate(),d=c;if("auto"===b.slidesPerView){for(var f=0;f<C.snapGrid.length;f++)if(-c>=C.snapGrid[f]&&-c<C.snapGrid[f+1]){d=-C.snapGrid[f+1];break}}else{var g=E*b.slidesPerGroup;d=-(Math.floor(Math.abs(c)/Math.floor(g))*g+g)}return d<-e()&&(d=-e()),d===c?!1:(u(d,"next"),!0)},C.swipePrev=function(a){!a&&b.loop&&C.fixLoop(),!a&&b.autoplay&&C.stopAutoplay(!0),C.callPlugins("onSwipePrev");var c,d=Math.ceil(C.getWrapperTranslate());if("auto"===b.slidesPerView){c=0;for(var e=1;e<C.snapGrid.length;e++){if(-d===C.snapGrid[e]){c=-C.snapGrid[e-1];break}if(-d>C.snapGrid[e]&&-d<C.snapGrid[e+1]){c=-C.snapGrid[e];break}}}else{var f=E*b.slidesPerGroup;c=-(Math.ceil(-d/f)-1)*f}return c>0&&(c=0),c===d?!1:(u(c,"prev"),!0)},C.swipeReset=function(){C.callPlugins("onSwipeReset");{var a,c=C.getWrapperTranslate(),d=E*b.slidesPerGroup;-e()}if("auto"===b.slidesPerView){a=0;for(var f=0;f<C.snapGrid.length;f++){if(-c===C.snapGrid[f])return;if(-c>=C.snapGrid[f]&&-c<C.snapGrid[f+1]){a=C.positions.diff>0?-C.snapGrid[f+1]:-C.snapGrid[f];break}}-c>=C.snapGrid[C.snapGrid.length-1]&&(a=-C.snapGrid[C.snapGrid.length-1]),c<=-e()&&(a=-e())}else a=0>c?Math.round(c/d)*d:0;return b.scrollContainer&&(a=0>c?c:0),a<-e()&&(a=-e()),b.scrollContainer&&I>E&&(a=0),a===c?!1:(u(a,"reset"),!0)},C.swipeTo=function(a,c,d){a=parseInt(a,10),C.callPlugins("onSwipeTo",{index:a,speed:c}),b.loop&&(a+=C.loopedSlides);var f=C.getWrapperTranslate();if(!(a>C.slides.length-1||0>a)){var g;return g="auto"===b.slidesPerView?-C.slidesGrid[a]:-a*E,g<-e()&&(g=-e()),g===f?!1:(d=d===!1?!1:!0,u(g,"to",{index:a,speed:c,runCallbacks:d}),!0)}},C._queueStartCallbacks=!1,C._queueEndCallbacks=!1,C.updateActiveSlide=function(a){if(C.initialized&&0!==C.slides.length){C.previousIndex=C.activeIndex,"undefined"==typeof a&&(a=C.getWrapperTranslate()),a>0&&(a=0);var c;if("auto"===b.slidesPerView){if(C.activeIndex=C.slidesGrid.indexOf(-a),C.activeIndex<0){for(c=0;c<C.slidesGrid.length-1&&!(-a>C.slidesGrid[c]&&-a<C.slidesGrid[c+1]);c++);var d=Math.abs(C.slidesGrid[c]+a),e=Math.abs(C.slidesGrid[c+1]+a);C.activeIndex=e>=d?c:c+1}}else C.activeIndex=Math[b.visibilityFullFit?"ceil":"round"](-a/E);if(C.activeIndex===C.slides.length&&(C.activeIndex=C.slides.length-1),C.activeIndex<0&&(C.activeIndex=0),C.slides[C.activeIndex]){if(C.calcVisibleSlides(a),C.support.classList){var f;for(c=0;c<C.slides.length;c++)f=C.slides[c],f.classList.remove(b.slideActiveClass),C.visibleSlides.indexOf(f)>=0?f.classList.add(b.slideVisibleClass):f.classList.remove(b.slideVisibleClass);C.slides[C.activeIndex].classList.add(b.slideActiveClass)}else{var g=new RegExp("\\s*"+b.slideActiveClass),h=new RegExp("\\s*"+b.slideVisibleClass);for(c=0;c<C.slides.length;c++)C.slides[c].className=C.slides[c].className.replace(g,"").replace(h,""),C.visibleSlides.indexOf(C.slides[c])>=0&&(C.slides[c].className+=" "+b.slideVisibleClass);C.slides[C.activeIndex].className+=" "+b.slideActiveClass}if(b.loop){var i=C.loopedSlides;C.activeLoopIndex=C.activeIndex-i,C.activeLoopIndex>=C.slides.length-2*i&&(C.activeLoopIndex=C.slides.length-2*i-C.activeLoopIndex),C.activeLoopIndex<0&&(C.activeLoopIndex=C.slides.length-2*i+C.activeLoopIndex),C.activeLoopIndex<0&&(C.activeLoopIndex=0)}else C.activeLoopIndex=C.activeIndex;b.pagination&&C.updatePagination(a)}}},C.createPagination=function(a){if(b.paginationClickable&&C.paginationButtons&&w(),C.paginationContainer=b.pagination.nodeType?b.pagination:c(b.pagination)[0],b.createPagination){var d="",e=C.slides.length,f=e;b.loop&&(f-=2*C.loopedSlides);for(var g=0;f>g;g++)d+="<"+b.paginationElement+' class="'+b.paginationElementClass+'"></'+b.paginationElement+">";C.paginationContainer.innerHTML=d}C.paginationButtons=c("."+b.paginationElementClass,C.paginationContainer),a||C.updatePagination(),C.callPlugins("onCreatePagination"),b.paginationClickable&&x()},C.updatePagination=function(a){if(b.pagination&&!(C.slides.length<1)){var d=c("."+b.paginationActiveClass,C.paginationContainer);
if(d){var e=C.paginationButtons;if(0!==e.length){for(var f=0;f<e.length;f++)e[f].className=b.paginationElementClass;var g=b.loop?C.loopedSlides:0;if(b.paginationAsRange){C.visibleSlides||C.calcVisibleSlides(a);var h,i=[];for(h=0;h<C.visibleSlides.length;h++){var j=C.slides.indexOf(C.visibleSlides[h])-g;b.loop&&0>j&&(j=C.slides.length-2*C.loopedSlides+j),b.loop&&j>=C.slides.length-2*C.loopedSlides&&(j=C.slides.length-2*C.loopedSlides-j,j=Math.abs(j)),i.push(j)}for(h=0;h<i.length;h++)e[i[h]]&&(e[i[h]].className+=" "+b.paginationVisibleClass);b.loop?void 0!==e[C.activeLoopIndex]&&(e[C.activeLoopIndex].className+=" "+b.paginationActiveClass):e[C.activeIndex].className+=" "+b.paginationActiveClass}else b.loop?e[C.activeLoopIndex]&&(e[C.activeLoopIndex].className+=" "+b.paginationActiveClass+" "+b.paginationVisibleClass):e[C.activeIndex].className+=" "+b.paginationActiveClass+" "+b.paginationVisibleClass}}}},C.calcVisibleSlides=function(a){var c=[],d=0,e=0,f=0;M&&C.wrapperLeft>0&&(a+=C.wrapperLeft),!M&&C.wrapperTop>0&&(a+=C.wrapperTop);for(var g=0;g<C.slides.length;g++){d+=e,e="auto"===b.slidesPerView?M?C.h.getWidth(C.slides[g],!0,b.roundLengths):C.h.getHeight(C.slides[g],!0,b.roundLengths):E,f=d+e;var h=!1;b.visibilityFullFit?(d>=-a&&-a+I>=f&&(h=!0),-a>=d&&f>=-a+I&&(h=!0)):(f>-a&&-a+I>=f&&(h=!0),d>=-a&&-a+I>d&&(h=!0),-a>d&&f>-a+I&&(h=!0)),h&&c.push(C.slides[g])}0===c.length&&(c=[C.slides[C.activeIndex]]),C.visibleSlides=c};var _,ab;C.startAutoplay=function(){if(C.support.transitions){if("undefined"!=typeof _)return!1;if(!b.autoplay)return;C.callPlugins("onAutoplayStart"),b.onAutoplayStart&&C.fireCallback(b.onAutoplayStart,C),z()}else{if("undefined"!=typeof ab)return!1;if(!b.autoplay)return;C.callPlugins("onAutoplayStart"),b.onAutoplayStart&&C.fireCallback(b.onAutoplayStart,C),ab=setInterval(function(){b.loop?(C.fixLoop(),C.swipeNext(!0)):C.swipeNext(!0)||(b.autoplayStopOnLast?(clearInterval(ab),ab=void 0):C.swipeTo(0))},b.autoplay)}},C.stopAutoplay=function(a){if(C.support.transitions){if(!_)return;_&&clearTimeout(_),_=void 0,a&&!b.autoplayDisableOnInteraction&&C.wrapperTransitionEnd(function(){z()}),C.callPlugins("onAutoplayStop"),b.onAutoplayStop&&C.fireCallback(b.onAutoplayStop,C)}else ab&&clearInterval(ab),ab=void 0,C.callPlugins("onAutoplayStop"),b.onAutoplayStop&&C.fireCallback(b.onAutoplayStop,C)},C.loopCreated=!1,C.removeLoopedSlides=function(){if(C.loopCreated)for(var a=0;a<C.slides.length;a++)C.slides[a].getData("looped")===!0&&C.wrapper.removeChild(C.slides[a])},C.createLoop=function(){if(0!==C.slides.length){C.loopedSlides="auto"===b.slidesPerView?b.loopedSlides||1:b.slidesPerView+b.loopAdditionalSlides,C.loopedSlides>C.slides.length&&(C.loopedSlides=C.slides.length);var a,c="",d="",e="",f=C.slides.length,g=Math.floor(C.loopedSlides/f),h=C.loopedSlides%f;for(a=0;g*f>a;a++){var i=a;if(a>=f){var j=Math.floor(a/f);i=a-f*j}e+=C.slides[i].outerHTML}for(a=0;h>a;a++)d+=t(b.slideDuplicateClass,C.slides[a].outerHTML);for(a=f-h;f>a;a++)c+=t(b.slideDuplicateClass,C.slides[a].outerHTML);var k=c+e+D.innerHTML+e+d;for(D.innerHTML=k,C.loopCreated=!0,C.calcSlides(),a=0;a<C.slides.length;a++)(a<C.loopedSlides||a>=C.slides.length-C.loopedSlides)&&C.slides[a].setData("looped",!0);C.callPlugins("onCreateLoop")}},C.fixLoop=function(){var a;C.activeIndex<C.loopedSlides?(a=C.slides.length-3*C.loopedSlides+C.activeIndex,C.swipeTo(a,0,!1)):("auto"===b.slidesPerView&&C.activeIndex>=2*C.loopedSlides||C.activeIndex>C.slides.length-2*b.slidesPerView)&&(a=-C.slides.length+C.activeIndex+C.loopedSlides,C.swipeTo(a,0,!1))},C.loadSlides=function(){var a="";C.activeLoaderIndex=0;for(var c=b.loader.slides,d=b.loader.loadAllSlides?c.length:b.slidesPerView*(1+b.loader.surroundGroups),e=0;d>e;e++)a+="outer"===b.loader.slidesHTMLType?c[e]:"<"+b.slideElement+' class="'+b.slideClass+'" data-swiperindex="'+e+'">'+c[e]+"</"+b.slideElement+">";C.wrapper.innerHTML=a,C.calcSlides(!0),b.loader.loadAllSlides||C.wrapperTransitionEnd(C.reloadSlides,!0)},C.reloadSlides=function(){var a=b.loader.slides,c=parseInt(C.activeSlide().data("swiperindex"),10);if(!(0>c||c>a.length-1)){C.activeLoaderIndex=c;var d=Math.max(0,c-b.slidesPerView*b.loader.surroundGroups),e=Math.min(c+b.slidesPerView*(1+b.loader.surroundGroups)-1,a.length-1);if(c>0){var f=-E*(c-d);C.setWrapperTranslate(f),C.setWrapperTransition(0)}var g;if("reload"===b.loader.logic){C.wrapper.innerHTML="";var h="";for(g=d;e>=g;g++)h+="outer"===b.loader.slidesHTMLType?a[g]:"<"+b.slideElement+' class="'+b.slideClass+'" data-swiperindex="'+g+'">'+a[g]+"</"+b.slideElement+">";C.wrapper.innerHTML=h}else{var i=1e3,j=0;for(g=0;g<C.slides.length;g++){var k=C.slides[g].data("swiperindex");d>k||k>e?C.wrapper.removeChild(C.slides[g]):(i=Math.min(k,i),j=Math.max(k,j))}for(g=d;e>=g;g++){var l;i>g&&(l=document.createElement(b.slideElement),l.className=b.slideClass,l.setAttribute("data-swiperindex",g),l.innerHTML=a[g],C.wrapper.insertBefore(l,C.wrapper.firstChild)),g>j&&(l=document.createElement(b.slideElement),l.className=b.slideClass,l.setAttribute("data-swiperindex",g),l.innerHTML=a[g],C.wrapper.appendChild(l))}}C.reInit(!0)}},A()}};Swiper.prototype={plugins:{},wrapperTransitionEnd:function(a,b){"use strict";function c(){if(a(e),e.params.queueEndCallbacks&&(e._queueEndCallbacks=!1),!b)for(d=0;d<g.length;d++)e.h.removeEventListener(f,g[d],c)}var d,e=this,f=e.wrapper,g=["webkitTransitionEnd","transitionend","oTransitionEnd","MSTransitionEnd","msTransitionEnd"];if(a)for(d=0;d<g.length;d++)e.h.addEventListener(f,g[d],c)},getWrapperTranslate:function(a){"use strict";var b,c,d,e,f=this.wrapper;return"undefined"==typeof a&&(a="horizontal"===this.params.mode?"x":"y"),this.support.transforms&&this.params.useCSS3Transforms?(d=window.getComputedStyle(f,null),window.WebKitCSSMatrix?e=new WebKitCSSMatrix("none"===d.webkitTransform?"":d.webkitTransform):(e=d.MozTransform||d.OTransform||d.MsTransform||d.msTransform||d.transform||d.getPropertyValue("transform").replace("translate(","matrix(1, 0, 0, 1,"),b=e.toString().split(",")),"x"===a&&(c=window.WebKitCSSMatrix?e.m41:parseFloat(16===b.length?b[12]:b[4])),"y"===a&&(c=window.WebKitCSSMatrix?e.m42:parseFloat(16===b.length?b[13]:b[5]))):("x"===a&&(c=parseFloat(f.style.left,10)||0),"y"===a&&(c=parseFloat(f.style.top,10)||0)),c||0},setWrapperTranslate:function(a,b,c){"use strict";var d,e=this.wrapper.style,f={x:0,y:0,z:0};3===arguments.length?(f.x=a,f.y=b,f.z=c):("undefined"==typeof b&&(b="horizontal"===this.params.mode?"x":"y"),f[b]=a),this.support.transforms&&this.params.useCSS3Transforms?(d=this.support.transforms3d?"translate3d("+f.x+"px, "+f.y+"px, "+f.z+"px)":"translate("+f.x+"px, "+f.y+"px)",e.webkitTransform=e.MsTransform=e.msTransform=e.MozTransform=e.OTransform=e.transform=d):(e.left=f.x+"px",e.top=f.y+"px"),this.callPlugins("onSetWrapperTransform",f),this.params.onSetWrapperTransform&&this.fireCallback(this.params.onSetWrapperTransform,this,f)},setWrapperTransition:function(a){"use strict";var b=this.wrapper.style;b.webkitTransitionDuration=b.MsTransitionDuration=b.msTransitionDuration=b.MozTransitionDuration=b.OTransitionDuration=b.transitionDuration=a/1e3+"s",this.callPlugins("onSetWrapperTransition",{duration:a}),this.params.onSetWrapperTransition&&this.fireCallback(this.params.onSetWrapperTransition,this,a)},h:{getWidth:function(a,b,c){"use strict";var d=window.getComputedStyle(a,null).getPropertyValue("width"),e=parseFloat(d);return(isNaN(e)||d.indexOf("%")>0)&&(e=a.offsetWidth-parseFloat(window.getComputedStyle(a,null).getPropertyValue("padding-left"))-parseFloat(window.getComputedStyle(a,null).getPropertyValue("padding-right"))),b&&(e+=parseFloat(window.getComputedStyle(a,null).getPropertyValue("padding-left"))+parseFloat(window.getComputedStyle(a,null).getPropertyValue("padding-right"))),c?Math.round(e):e},getHeight:function(a,b,c){"use strict";if(b)return a.offsetHeight;var d=window.getComputedStyle(a,null).getPropertyValue("height"),e=parseFloat(d);return(isNaN(e)||d.indexOf("%")>0)&&(e=a.offsetHeight-parseFloat(window.getComputedStyle(a,null).getPropertyValue("padding-top"))-parseFloat(window.getComputedStyle(a,null).getPropertyValue("padding-bottom"))),b&&(e+=parseFloat(window.getComputedStyle(a,null).getPropertyValue("padding-top"))+parseFloat(window.getComputedStyle(a,null).getPropertyValue("padding-bottom"))),c?Math.round(e):e},getOffset:function(a){"use strict";var b=a.getBoundingClientRect(),c=document.body,d=a.clientTop||c.clientTop||0,e=a.clientLeft||c.clientLeft||0,f=window.pageYOffset||a.scrollTop,g=window.pageXOffset||a.scrollLeft;return document.documentElement&&!window.pageYOffset&&(f=document.documentElement.scrollTop,g=document.documentElement.scrollLeft),{top:b.top+f-d,left:b.left+g-e}},windowWidth:function(){"use strict";return window.innerWidth?window.innerWidth:document.documentElement&&document.documentElement.clientWidth?document.documentElement.clientWidth:void 0},windowHeight:function(){"use strict";return window.innerHeight?window.innerHeight:document.documentElement&&document.documentElement.clientHeight?document.documentElement.clientHeight:void 0},windowScroll:function(){"use strict";return"undefined"!=typeof pageYOffset?{left:window.pageXOffset,top:window.pageYOffset}:document.documentElement?{left:document.documentElement.scrollLeft,top:document.documentElement.scrollTop}:void 0},addEventListener:function(a,b,c,d){"use strict";"undefined"==typeof d&&(d=!1),a.addEventListener?a.addEventListener(b,c,d):a.attachEvent&&a.attachEvent("on"+b,c)},removeEventListener:function(a,b,c,d){"use strict";"undefined"==typeof d&&(d=!1),a.removeEventListener?a.removeEventListener(b,c,d):a.detachEvent&&a.detachEvent("on"+b,c)}},setTransform:function(a,b){"use strict";var c=a.style;c.webkitTransform=c.MsTransform=c.msTransform=c.MozTransform=c.OTransform=c.transform=b},setTranslate:function(a,b){"use strict";var c=a.style,d={x:b.x||0,y:b.y||0,z:b.z||0},e=this.support.transforms3d?"translate3d("+d.x+"px,"+d.y+"px,"+d.z+"px)":"translate("+d.x+"px,"+d.y+"px)";c.webkitTransform=c.MsTransform=c.msTransform=c.MozTransform=c.OTransform=c.transform=e,this.support.transforms||(c.left=d.x+"px",c.top=d.y+"px")},setTransition:function(a,b){"use strict";var c=a.style;c.webkitTransitionDuration=c.MsTransitionDuration=c.msTransitionDuration=c.MozTransitionDuration=c.OTransitionDuration=c.transitionDuration=b+"ms"},support:{touch:window.Modernizr&&Modernizr.touch===!0||function(){"use strict";return!!("ontouchstart"in window||window.DocumentTouch&&document instanceof DocumentTouch)}(),transforms3d:window.Modernizr&&Modernizr.csstransforms3d===!0||function(){"use strict";var a=document.createElement("div").style;return"webkitPerspective"in a||"MozPerspective"in a||"OPerspective"in a||"MsPerspective"in a||"perspective"in a}(),transforms:window.Modernizr&&Modernizr.csstransforms===!0||function(){"use strict";var a=document.createElement("div").style;return"transform"in a||"WebkitTransform"in a||"MozTransform"in a||"msTransform"in a||"MsTransform"in a||"OTransform"in a}(),transitions:window.Modernizr&&Modernizr.csstransitions===!0||function(){"use strict";var a=document.createElement("div").style;return"transition"in a||"WebkitTransition"in a||"MozTransition"in a||"msTransition"in a||"MsTransition"in a||"OTransition"in a}(),classList:function(){"use strict";var a=document.createElement("div").style;return"classList"in a}()},browser:{ie8:function(){"use strict";var a=-1;if("Microsoft Internet Explorer"===navigator.appName){var b=navigator.userAgent,c=new RegExp(/MSIE ([0-9]{1,}[\.0-9]{0,})/);null!==c.exec(b)&&(a=parseFloat(RegExp.$1))}return-1!==a&&9>a}(),ie10:window.navigator.msPointerEnabled,ie11:window.navigator.pointerEnabled}},(window.jQuery||window.Zepto)&&!function(a){"use strict";a.fn.swiper=function(b){var c=new Swiper(a(this)[0],b);return a(this).data("swiper",c),c}}(window.jQuery||window.Zepto),"undefined"!=typeof module&&(module.exports=Swiper),"function"==typeof define&&define.amd&&define([],function(){"use strict";return Swiper});
// jQuery Cookie Plugin v1.4.1 | (c)2014 Klaus Hartl | https://github.com/carhartl/jquery-cookie | Licensed under the MIT License
(function(a){if(typeof define==="function"&&define.amd){define(["jquery"],a);}else{if(typeof exports==="object"){a(require("jquery"));}else{a(jQuery);}}}(function(f){var a=/\+/g;function d(i){return b.raw?i:encodeURIComponent(i);}function g(i){return b.raw?i:decodeURIComponent(i);}function h(i){return d(b.json?JSON.stringify(i):String(i));}function c(i){if(i.indexOf('"')===0){i=i.slice(1,-1).replace(/\\"/g,'"').replace(/\\\\/g,"\\");}try{i=decodeURIComponent(i.replace(a," "));return b.json?JSON.parse(i):i;}catch(j){}}function e(j,i){var k=b.raw?j:c(j);return f.isFunction(i)?i(k):k;}var b=f.cookie=function(q,p,v){if(arguments.length>1&&!f.isFunction(p)){v=f.extend({},b.defaults,v);if(typeof v.expires==="number"){var r=v.expires,u=v.expires=new Date();u.setTime(+u+r*86400000);}return(document.cookie=[d(q),"=",h(p),v.expires?"; expires="+v.expires.toUTCString():"",v.path?"; path="+v.path:"",v.domain?"; domain="+v.domain:"",v.secure?"; secure":""].join(""));}var w=q?undefined:{};var s=document.cookie?document.cookie.split("; "):[];for(var o=0,m=s.length;o<m;o++){var n=s[o].split("=");var j=g(n.shift());var k=n.join("=");if(q&&q===j){w=e(k,p);break;}if(!q&&(k=e(k))!==undefined){w[j]=k;}}return w;};b.defaults={};f.removeCookie=function(j,i){if(f.cookie(j)===undefined){return false;}f.cookie(j,"",f.extend({},i,{expires:-1}));return !f.cookie(j);};}));

// tinytim.js v0.3.0 (http://github.com/premasagar/tim) | Licensed under the MIT License
jQuery.tim=(function(){var path="[a-z0-9_][\\.a-z0-9_]*",start="{{",end="}}",undef;return function(template,data){var pattern=new RegExp(start+"\\s*("+path+")\\s*"+end,"gi");return template.replace(pattern,function(tag,token){var path=token.split("."),len=path.length,lookup=data,i=0;for(;i<len;i++){lookup=lookup[path[i]];if(lookup===undef){throw new Error("tim: '"+path[i]+"' not found in "+tag);}if(i===len-1){return lookup;}}});};}());

// jQuery Mobile v1.4.0 | (c)2010, 2013 jQuery Foundation, Inc. | jquery.org/license
(function(e,t,n){typeof define=="function"&&define.amd?define(["jquery"],function(r){return n(r,e,t),r.mobile}):n(e.jQuery,e,t)})(this,document,function(e,t,n,r){(function(e,n){e.extend(e.support,{orientation:"orientation"in t&&"onorientationchange"in t})})(e),function(e){e.event.special.throttledresize={setup:function(){e(this).bind("resize",n)},teardown:function(){e(this).unbind("resize",n)}};var t=250,n=function(){s=(new Date).getTime(),o=s-r,o>=t?(r=s,e(this).trigger("throttledresize")):(i&&clearTimeout(i),i=setTimeout(n,t-o))},r=0,i,s,o}(e),function(e,t){function p(){var e=s();e!==o&&(o=e,r.trigger(i))}var r=e(t),i="orientationchange",s,o,u,a,f={0:!0,180:!0},l,c,h;if(e.support.orientation){l=t.innerWidth||r.width(),c=t.innerHeight||r.height(),h=50,u=l>c&&l-c>h,a=f[t.orientation];if(u&&a||!u&&!a)f={"-90":!0,90:!0}}e.event.special.orientationchange=e.extend({},e.event.special.orientationchange,{setup:function(){if(e.support.orientation&&!e.event.special.orientationchange.disabled)return!1;o=s(),r.bind("throttledresize",p)},teardown:function(){if(e.support.orientation&&!e.event.special.orientationchange.disabled)return!1;r.unbind("throttledresize",p)},add:function(e){var t=e.handler;e.handler=function(e){return e.orientation=s(),t.apply(this,arguments)}}}),e.event.special.orientationchange.orientation=s=function(){var r=!0,i=n.documentElement;return e.support.orientation?r=f[t.orientation]:r=i&&i.clientWidth/i.clientHeight<1.1,r?"portrait":"landscape"},e.fn[i]=function(e){return e?this.bind(i,e):this.trigger(i)},e.attrFn&&(e.attrFn[i]=!0)}(e,this)});

// jQuery Within Viewport v0.2 | (c)2011 Craig Patik | http://patik.com/
(function(d){var withinViewport=function(elem,settings){var result=false;try{if(typeof elem!=="object"||elem.nodeType!==1){throw new Error("First argument should be a DOM element")}var arr,i,side,metadata=elem.getAttribute("data-withinviewport-settings")&&window.JSON?JSON.parse(elem.getAttribute("data-withinviewport-settings")):{},settings=typeof settings==="string"?{sides:settings}:settings||{},config={sides:settings.sides||metadata.sides||withinViewport.defaults.sides||"all",top:settings.top||metadata.top||withinViewport.defaults.top||0,right:settings.right||metadata.right||withinViewport.defaults.right||0,bottom:settings.bottom||metadata.bottom||withinViewport.defaults.bottom||0,left:settings.left||metadata.left||withinViewport.defaults.left||0},isWithin={top:function(){return elemOffset[1]>=scrollOffset[1]+config.top},right:function(){var width=window.innerWidth||document.documentElement.clientWidth;return elemOffset[0]+elem.offsetWidth<=width+scrollOffset[0]-config.right},bottom:function(){var height=window.innerHeight||document.documentElement.clientHeight;return elemOffset[1]+elem.offsetHeight<=height+scrollOffset[1]-config.bottom},left:function(){return elemOffset[0]>=scrollOffset[0]+config.left},all:function(){return(isWithin.top()&&isWithin.right()&&isWithin.bottom()&&isWithin.left())}},scrollOffset=(function(){var x=d.body.scrollLeft,y=d.body.scrollTop;if(y==0){if(window.pageYOffset){y=window.pageYOffset}else{y=(d.body.parentElement)?d.body.parentElement.scrollTop:0}}if(x==0){if(window.pageXOffset){x=window.pageXOffset}else{x=(d.body.parentElement)?d.body.parentElement.scrollLeft:0}}return[x,y]})(),elemOffset=(function(){var el=elem,x=0,y=0;if(el.offsetParent){x=el.offsetLeft;y=el.offsetTop;while(el=el.offsetParent){x+=el.offsetLeft;y+=el.offsetTop}}return[x,y]})();arr=config.sides.split(" ");i=arr.length;while(i--){side=arr[i].toLowerCase();if(/top|right|bottom|left|all/.test(side)){if(isWithin[side]()){result=true}else{return false}}}return result}catch(e){}finally{return result}};withinViewport.prototype.defaults={sides:"all",top:0,right:0,bottom:0,left:0};withinViewport.defaults=withinViewport.prototype.defaults;window.withinViewport=withinViewport;var arr=["top","right","bottom","left"];var i=arr.length;while(i--){var side=arr[i];withinViewport.prototype[side]=function(element){return withinViewport(element,side)};withinViewport[side]=withinViewport.prototype[side]}})(document);
(function($,window,undefined){$.fn.withinViewport=function(settings){if(typeof settings==="string"){settings={sides:settings}}var opts=$.extend({},settings,{sides:"all"}),elems=[];this.each(function(){if(withinViewport(this,opts)){elems.push(this)}});return $(elems)};$.extend($.expr[":"],{"within-viewport":function(element){return withinViewport(element,"all")}});$.fn.withinViewportTop=function(settings){if(typeof settings==="string"){settings={sides:settings}}var opts=$.extend({},settings,{sides:"top"}),elems=[];this.each(function(){if(withinViewport(this,opts)){elems.push(this)}});return $(elems)};$.fn.withinViewportRight=function(settings){if(typeof settings==="string"){settings={sides:settings}}var opts=$.extend({},settings,{sides:"right"}),elems=[];this.each(function(){if(withinViewport(this,opts)){elems.push(this)}});return $(elems)};$.fn.withinViewportBottom=function(settings){if(typeof settings==="string"){settings={sides:settings}}var opts=$.extend({},settings,{sides:"bottom"}),elems=[];this.each(function(){if(withinViewport(this,opts)){elems.push(this)}});return $(elems)};$.fn.withinViewportLeft=function(settings){if(typeof settings==="string"){settings={sides:settings}}var opts=$.extend({},settings,{sides:"left"}),elems=[];this.each(function(){if(withinViewport(this,opts)){elems.push(this)}});return $(elems)};$.extend($.expr[":"],{"within-viewport-top":function(element){return withinViewport(element,"top")},"within-viewport-right":function(element){return withinViewport(element,"right")},"within-viewport-bottom":function(element){return withinViewport(element,"bottom")},"within-viewport-left":function(element){return withinViewport(element,"left")}})})(jQuery,window);

// jQuery Noty v1.1.1 | Licensed under the MIT License
(function(b){b.noty=function(d,e){var a=this,c=null,g=!1;a.init=function(c){a.options=b.extend({},b.noty.defaultOptions,c);a.options.type=a.options.cssPrefix+a.options.type;a.options.id=a.options.type+"_"+(new Date).getTime();a.options.layout=a.options.cssPrefix+"layout_"+a.options.layout;a.options.custom.container&&(e=a.options.custom.container);g="object"===b.type(e)?!0:!1;return a.addQueue()};a.addQueue=function(){var c=-1==b.inArray(a.options.layout,b.noty.growls)?!1:!0;c||(a.options.force?b.noty.queue.unshift({options:a.options}): b.noty.queue.push({options:a.options}));return a.render(c)};a.render=function(d){var f=g?e.addClass(a.options.theme+" "+a.options.layout+" noty_custom_container"):b("body");if(d)0==b("ul.noty_cont."+a.options.layout).length&&f.prepend(b("<ul/>").addClass("noty_cont "+a.options.layout)),f=b("ul.noty_cont."+a.options.layout);else if(b.noty.available){var h=b.noty.queue.shift();if("object"===b.type(h))b.noty.available=!1,a.options=h.options;else return b.noty.available=!0,a.options.id}else return a.options.id; a.container=f;a.bar=b('<div class="noty_bar"/>').attr("id",a.options.id).addClass(a.options.theme+" "+a.options.layout+" "+a.options.type);c=a.bar;c.append(a.options.template).find(".noty_text").html(a.options.text);c.data("noty_options",a.options);a.options.closeButton?c.addClass("noty_closable").find(".noty_close").show():c.find(".noty_close").remove();c.find(".noty_close").bind("click",function(){c.trigger("noty.close")});a.options.buttons&&(a.options.closeOnSelfClick=a.options.closeOnSelfOver= !1);a.options.closeOnSelfClick&&c.bind("click",function(){c.trigger("noty.close")}).css("cursor","pointer");a.options.closeOnSelfOver&&c.bind("mouseover",function(){c.trigger("noty.close")}).css("cursor","pointer");a.options.buttons&&($buttons=b("<div/>").addClass("noty_buttons"),c.find(".noty_message").append($buttons),b.each(a.options.buttons,function(a,d){bclass=d.type?d.type:"gray";$button=b("<button/>").addClass(bclass).html(d.text).appendTo(c.find(".noty_buttons")).bind("click",function(){b.isFunction(d.click)&& d.click.call($button,c)})}));return a.show(d)};a.show=function(d){a.options.modal&&b("<div/>").addClass("noty_modal").addClass(a.options.theme).prependTo(b("body")).fadeIn("fast");c.close=function(){return this.trigger("noty.close")};d?a.container.prepend(b("<li/>").append(c)):a.container.prepend(c);("noty_layout_topCenter"==a.options.layout||"noty_layout_center"==a.options.layout)&&b.noty.reCenter(c);c.bind("noty.setText",function(a,d){c.find(".noty_text").html(d);b.noty.reCenter(c)});c.bind("noty.getId", function(){return c.data("noty_options").id});c.one("noty.close",function(){c.data("noty_options").modal&&b(".noty_modal").fadeOut("fast",function(){b(this).remove()});c.clearQueue().stop().animate(c.data("noty_options").animateClose,c.data("noty_options").close_speed,c.data("noty_options").easing,c.data("noty_options").onClose).promise().done(function(){-1<b.inArray(c.data("noty_options").layout,b.noty.growls)?c.parent().remove():(c.remove(),b.noty.available=!0,a.render(!1))})});c.animate(a.options.animateOpen, a.options.speed,a.options.easing,a.options.onShow);a.options.timeout&&c.delay(a.options.timeout).promise().done(function(){c.trigger("noty.close")});return a.options.id};return a.init(d)};b.noty.get=function(d){return b("#"+d)};b.noty.close=function(d){b.noty.get(d).trigger("noty.close")};b.noty.setText=function(d,e){b.noty.get(d).trigger("noty.setText",e)};b.noty.closeAll=function(){b.noty.clearQueue();b(".noty_bar").trigger("noty.close")};b.noty.reCenter=function(d){d.css({left:(b(window).width()- d.outerWidth())/2+"px"})};b.noty.clearQueue=function(){b.noty.queue=[]};b.noty.queue=[];b.noty.growls=["noty_layout_bottomCenter","noty_layout_topCenter","noty_layout_center","noty_layout_topLeft","noty_layout_topRight","noty_layout_bottomLeft","noty_layout_bottomRight"];b.noty.available=!0;b.noty.defaultOptions={layout:"top",theme:"noty_theme_default",animateOpen:{height:"toggle"},animateClose:{height:"toggle"},easing:"swing",text:"",type:"alert",speed:500, close_speed:500,timeout:5E3,closeButton:!1,closeOnSelfClick:!0,closeOnSelfOver:!1,force:!1,onShow:!1,onClose:!1,buttons:!1,modal:!1, template:'<div class="noty_message"><div class="noty_text"></div><div class="noty_close tb_button_remove tb_button tb_bg_str_3 tb_text_str_6 tb_h_20 tb_fixed"></div></div>',cssPrefix:"noty_",custom:{container:null}};b.fn.noty=function(d){return this.each(function(){new b.noty(d,b(this))})}})(jQuery);function noty(b){return jQuery.noty(b)};

// jQuery MouseWheel v3.1.11 | (c)2013 Brandon Aaron | (http://brandon.aaron.sh) | Licensed under the MIT License.
!function(a){"function"==typeof define&&define.amd?define(["jquery"],a):"object"==typeof exports?module.exports=a:a(jQuery)}(function(a){function b(b){var g=b||window.event,h=i.call(arguments,1),j=0,l=0,m=0,n=0,o=0,p=0;if(b=a.event.fix(g),b.type="mousewheel","detail"in g&&(m=-1*g.detail),"wheelDelta"in g&&(m=g.wheelDelta),"wheelDeltaY"in g&&(m=g.wheelDeltaY),"wheelDeltaX"in g&&(l=-1*g.wheelDeltaX),"axis"in g&&g.axis===g.HORIZONTAL_AXIS&&(l=-1*m,m=0),j=0===m?l:m,"deltaY"in g&&(m=-1*g.deltaY,j=m),"deltaX"in g&&(l=g.deltaX,0===m&&(j=-1*l)),0!==m||0!==l){if(1===g.deltaMode){var q=a.data(this,"mousewheel-line-height");j*=q,m*=q,l*=q}else if(2===g.deltaMode){var r=a.data(this,"mousewheel-page-height");j*=r,m*=r,l*=r}if(n=Math.max(Math.abs(m),Math.abs(l)),(!f||f>n)&&(f=n,d(g,n)&&(f/=40)),d(g,n)&&(j/=40,l/=40,m/=40),j=Math[j>=1?"floor":"ceil"](j/f),l=Math[l>=1?"floor":"ceil"](l/f),m=Math[m>=1?"floor":"ceil"](m/f),k.settings.normalizeOffset&&this.getBoundingClientRect){var s=this.getBoundingClientRect();o=b.clientX-s.left,p=b.clientY-s.top}return b.deltaX=l,b.deltaY=m,b.deltaFactor=f,b.offsetX=o,b.offsetY=p,b.deltaMode=0,h.unshift(b,j,l,m),e&&clearTimeout(e),e=setTimeout(c,200),(a.event.dispatch||a.event.handle).apply(this,h)}}function c(){f=null}function d(a,b){return k.settings.adjustOldDeltas&&"mousewheel"===a.type&&b%120===0}var e,f,g=["wheel","mousewheel","DOMMouseScroll","MozMousePixelScroll"],h="onwheel"in document||document.documentMode>=9?["wheel"]:["mousewheel","DomMouseScroll","MozMousePixelScroll"],i=Array.prototype.slice;if(a.event.fixHooks)for(var j=g.length;j;)a.event.fixHooks[g[--j]]=a.event.mouseHooks;var k=a.event.special.mousewheel={version:"3.1.11",setup:function(){if(this.addEventListener)for(var c=h.length;c;)this.addEventListener(h[--c],b,!1);else this.onmousewheel=b;a.data(this,"mousewheel-line-height",k.getLineHeight(this)),a.data(this,"mousewheel-page-height",k.getPageHeight(this))},teardown:function(){if(this.removeEventListener)for(var c=h.length;c;)this.removeEventListener(h[--c],b,!1);else this.onmousewheel=null;a.removeData(this,"mousewheel-line-height"),a.removeData(this,"mousewheel-page-height")},getLineHeight:function(b){var c=a(b)["offsetParent"in a.fn?"offsetParent":"parent"]();return c.length||(c=a("body")),parseInt(c.css("fontSize"),10)},getPageHeight:function(b){return a(b).height()},settings:{adjustOldDeltas:!0,normalizeOffset:!0}};a.fn.extend({mousewheel:function(a){return a?this.bind("mousewheel",a):this.trigger("mousewheel")},unmousewheel:function(a){return this.unbind("mousewheel",a)}})});

// hoverIntent r7 2013.03.11 | (c) 2007, 2013 Brian Cherne | Licensed under the MIT License.
(function($){$.fn.hoverIntent=function(handlerIn,handlerOut,selector){var cfg={interval:100,sensitivity:7,timeout:0};if(typeof handlerIn==="object"){cfg=$.extend(cfg,handlerIn);}else{if($.isFunction(handlerOut)){cfg=$.extend(cfg,{over:handlerIn,out:handlerOut,selector:selector});}else{cfg=$.extend(cfg,{over:handlerIn,out:handlerIn,selector:handlerOut});}}var cX,cY,pX,pY;var track=function(ev){cX=ev.pageX;cY=ev.pageY;};var compare=function(ev,ob){ob.hoverIntent_t=clearTimeout(ob.hoverIntent_t);if((Math.abs(pX-cX)+Math.abs(pY-cY))<cfg.sensitivity){$(ob).off("mousemove.hoverIntent",track);ob.hoverIntent_s=1;return cfg.over.apply(ob,[ev]);}else{pX=cX;pY=cY;ob.hoverIntent_t=setTimeout(function(){compare(ev,ob);},cfg.interval);}};var delay=function(ev,ob){ob.hoverIntent_t=clearTimeout(ob.hoverIntent_t);ob.hoverIntent_s=0;return cfg.out.apply(ob,[ev]);};var handleHover=function(e){var ev=jQuery.extend({},e);var ob=this;if(ob.hoverIntent_t){ob.hoverIntent_t=clearTimeout(ob.hoverIntent_t);}if(e.type=="mouseenter"){pX=ev.pageX;pY=ev.pageY;$(ob).on("mousemove.hoverIntent",track);if(ob.hoverIntent_s!=1){ob.hoverIntent_t=setTimeout(function(){compare(ev,ob);},cfg.interval);}}else{$(ob).off("mousemove.hoverIntent",track);if(ob.hoverIntent_s==1){ob.hoverIntent_t=setTimeout(function(){delay(ev,ob);},cfg.timeout);}}};return this.on({"mouseenter.hoverIntent":handleHover,"mouseleave.hoverIntent":handleHover},cfg.selector);};})(jQuery);

window.hasOwnProperty = window.hasOwnProperty || Object.prototype.hasOwnProperty;

$.fn.outerHTML=function(){return(!this.length)?this:(this[0].outerHTML||(function(a){var c=document.createElement("div");c.appendChild(a.cloneNode(true));var b=c.innerHTML;c=null;return b})(this[0]))};function empty(b){var a;var c;if(b===""||b===0||b==="0"||b===null||b===false||b===c){return true}if(typeof b=="object"){for(a in b){return false}return true}return false};
var cart={'add':function(product_id,quantity){$.ajax({url:'index.php?route=checkout/cart/add',type:'post',data:'product_id='+product_id+'&quantity='+(typeof(quantity)!='undefined'?quantity:1),dataType:'json',success:function(json){$('.alert, .text-danger').remove();if(json['redirect']){location=json['redirect'];}else
if(json['error']){for(var first in json.error)break;displayNotice('product','failure',product_id,json.error[first]);}else
if(json['success']){$('.tb_widget_cart > .tb_nav').load('index.php?route=common/cart/info .tb_nav > *');displayNotice('product','success',product_id,json['success']);}}});},'update':function(key,quantity){$.ajax({url:'index.php?route=checkout/cart/edit',type:'post',data:'key='+key+'&quantity='+(typeof(quantity)!='undefined'?quantity:1),dataType:'json',beforeSend:function(){$('#cart > button').button('loading');},success:function(json){$('#cart > button').button('reset');if($sReg.get('/tb/route')=='checkout/cart'||$sReg.get('/tb/route')=='checkout/checkout'){location='index.php?route=checkout/cart';}else{$('.tb_widget_cart > .tb_nav').load('index.php?route=common/cart/info .tb_nav > *');}}});},'remove':function(key){$.ajax({url:'index.php?route=checkout/cart/remove',type:'post',data:'key='+key,dataType:'json',beforeSend:function(){$('#cart > button').button('loading');},success:function(json){$('#cart > button').button('reset');if($sReg.get('/tb/route')=='checkout/cart'||$sReg.get('/tb/route')=='checkout/checkout'){location=$sReg.get('/tb/shopping_cart_url');}else{$('.tb_widget_cart > .tb_nav').load('index.php?route=common/cart/info .tb_nav > *');}}});}}
var voucher={'add':function(){},'remove':function(key){$.ajax({url:'index.php?route=checkout/cart/remove',type:'post',data:'key='+key,dataType:'json',beforeSend:function(){$('#cart > button').button('loading');},complete:function(){$('#cart > button').button('reset');},success:function(json){$('#cart-total').html(json['total']);if($sReg.get('/tb/route')=='checkout/cart'||$sReg.get('/tb/route')=='checkout/checkout'){location='index.php?route=checkout/cart';}else{$('.tb_widget_cart > .tb_nav').load('index.php?route=common/cart/info .tb_nav > *');}}});}}
var wishlist={'add':function(product_id){$.ajax({url:'index.php?route=account/wishlist/add',type:'post',data:'product_id='+product_id,dataType:'json',success:function(json){$('.alert').remove();if(json['success']){displayNotice('wishlist','success',product_id,json['success']);}
if(json['info']){displayNotice('wishlist','failure',product_id,json['info']);}
$('#wishlist-total').html(json['total']);}});},'remove':function(){}}
var compare={'add':function(product_id){$.ajax({url:'index.php?route=product/compare/add',type:'post',data:'product_id='+product_id,dataType:'json',success:function(json){$('.alert').remove();if(json['success']){displayNotice('compare','success',product_id,json['success']);$('.tb_compare_total').html(json['total']);}}});},'remove':function(){}}
function moduleSearch($element){var filter_name=$element.parent().find('input[name=search]').val();if(filter_name){location='index.php?route=product/search&search='+encodeURIComponent(filter_name);}}
function changeLanguage($link){$('input[name=\'code\']').attr('value',$link.attr('data-language-code'));$link.closest('form').submit()}
function changeCurrency($link){$('input[name=\'code\']').attr('value',$link.attr('data-currency-code'));$link.closest('form').submit()}
function onSizeChange(callback,namespace,unbind_namespace){if($.browser.msie&&$.browser.version<9){return;}
var resizeEvent=window.hasOwnProperty("onorientationchange")?"orientationchange":"resize";if(typeof namespace!="undefined"){if(typeof unbind_namespace=="undefined"){unbind_namespace=false;}
if(unbind_namespace){offSizeChange(namespace);}
resizeEvent+="."+namespace;}
$(window).on(resizeEvent,callback);}
function offSizeChange(namespace){var resizeEvent=window.hasOwnProperty("onorientationchange")?"orientationchange":"resize";resizeEvent+="."+namespace;$(window).off(resizeEvent);}
var tb_user_agent=navigator.userAgent;var tb_is_iphone=~tb_user_agent.indexOf('iPhone')||~tb_user_agent.indexOf('iPod');var tb_is_ipad=~tb_user_agent.indexOf('iPad');var tb_is_ios=tb_is_iphone||tb_is_ipad;var tb_is_ios4=tb_is_ios&&~tb_user_agent.indexOf(' 4_');function displayNotice(context,type,product_id,message){var stack=Number($sReg.get('/tb/msg_stack'));var thumb;if(!stack){$.noty.closeAll();}
var $product=$(".tb_product.tb_id_"+product_id);if(!$product.length){$product=$("#"+product_id);thumb=$product.find(" > meta[itemprop=image]").attr("content");}else{thumb=$product.find(".tb_thumb img").attr("src");}
if(!thumb){thumb=$sReg.get('/tb/no_image');}
var buttons_config=[{type:'tb_button tb_h_30',text:$sReg.get('/lang/text_continue'),click:function(){$.noty.closeAll();}}];var modal=false;var w_width=document.documentElement.clientWidth;var w_height=document.documentElement.clientHeight;if(w_width<767&&w_height<767){modal=true;}
function ios_fixed($cont){if(tb_is_ios4){top=$(window).scrollTop();$cont.css('top',top+15);$cont.parents('.noty_cont').first().prev('.noty_modal').height(1000).css('top',top);$(document).bind('touchmove.noty',function(e){e.preventDefault();},false);onSizeChange(function(){top=$(window).scrollTop();$cont.css('top',top+15);$cont.parents('.noty_cont').first().prev('.noty_modal').css('top',top);},'noty');}}
var msg_tpl;if($product.length){msg_tpl='            <h3><i class="tb_icon fa-{{icon}}"></i>{{title}}</h3>            <a class="tb_thumb" href=""><img src="{{thumb_src}}"></a>            <p>{{contents}}</p>';}else{msg_tpl='            <h3><i class="tb_icon fa-{{icon}}"></i>{{title}}</h3>            <p>{{contents}}</p>';}
var showNotice=function(title){var template_vars={icon:type=='success'?'check':'times',title:title,contents:message,thumb_src:thumb};noty({text:$.tim(msg_tpl,template_vars),layout:$sReg.get('/tb/msg_position'),closeOnSelfClick:false,modal:modal,buttons:modal?buttons_config:false,closeButton:!modal,timeout:modal?false:Number($sReg.get('/tb/msg_timeout')),animateOpen:{opacity:'toggle'},animateClose:{opacity:'toggle'},close_speed:stack?500:0,onShow:function(){ios_fixed($(this));},onClose:function(){$(document).unbind('touchmove.noty');offSizeChange('lightbox');}});};if(type=='failure'){showNotice($sReg.get('/lang/text_failure'));return;}
switch(context){case'product':buttons_config=[{type:'tb_button tb_h_30',text:$sReg.get('/lang/text_continue_shopping'),click:function(){$.noty.closeAll();}},{type:'tb_button tb_h_30',text:$sReg.get('/lang/text_shopping_cart'),click:function(){window.location=$sReg.get('/tb/shopping_cart_url');}}];showNotice($sReg.get('/lang/text_cart_updated'));break;case'wishlist':buttons_config.push({type:'tb_button tb_h_30',text:$sReg.get('/lang/text_wishlist'),click:function(){window.location=$sReg.get('/tb/wishlist_url');}});showNotice($sReg.get('/lang/text_wishlist_updated'));break;case'compare':buttons_config.push({type:'tb_button tb_h_30',text:$sReg.get('/lang/text_product_comparison'),click:function(){window.location=$sReg.get('/tb/compare_url');}});showNotice($sReg.get('/lang/text_compare_updated'));break;}}
function sticky_header(show_logo){if((document.documentElement.clientWidth<=767&&document.documentElement.clientHeight<=767)||($.browser.msie&&$.browser.version<=8)){return;}
var $wrap=$('#wrapper');var $cont=$('#main_navigation_row').length?$('#main_navigation_row'):$('#header');var $nav=$('#main_navigation');var $nav_row=$nav.parents('.tb_row').first();var $nav_col=$nav.parent();var height=$cont.outerHeight(true);var offset=$cont.offset();var padding=$wrap.outerHeight()-$wrap.height();var $temp_logo;var $temp_cart;var $temp_search;$cont.removeClass('tb_sticky');$(window).scroll(function(){if($(this).scrollTop()>height+offset.top-50&&$(window).width()>766){if(!$wrap.hasClass('tb_sticky')){$temp_logo=show_logo?$('#site_logo').clone().addClass('tbCloned').insertBefore($nav):$();$temp_cart=$('.tb_widget_cart').clone(true).addClass('tbCloned').insertAfter($nav);$temp_search=$('.tb_widget_site_search').clone(true).addClass('tbCloned').insertAfter($nav);$wrap.addClass('tb_sticky');$cont.addClass('tb_sticky_container');$cont.parent().css('padding-top',padding+height);$nav_row.addClass('tbNavContainer');$nav_col.addClass('tbNavContainerCol');}}
else{if(typeof $temp_logo!="undefined"){$temp_logo.remove();$temp_cart.remove();$temp_search.remove();$temp_logo=$temp_cart=$temp_search=undefined;}
$wrap.removeClass('tb_sticky');$cont.removeClass('tb_sticky_container');$cont.parent().css('padding-top','');$nav_row.removeClass('tbNavContainer');$nav_col.removeClass('tbNavContainerCol');}});}
function responsive_header(){var position=$('#header').find('.tbSystemRow').length?'before':'after';var $system_row;var change_header=function(){var window_width=Math.max(document.documentElement.clientWidth,window.innerWidth||0)
if(window_width<768){if(!$('#header').hasClass('tbMobile')){var $row_markup=$('#header').find('.tbSystemRow').length?$('<div class="tb_row tbSystemRow tbCloned"></div>'):$('<div class="tb_row tbCloned"></div>');$system_row=$row_markup.append($('.tb_widget_currency').clone(true)).append($('.tb_widget_language').clone(true)).append($('#user_navigation li.menu_account a').clone());if(position=='before'){$system_row=$system_row.insertBefore('.tbLogoRow');$('#wrapper').addClass('tbSystemBefore');}
else{$system_row=$system_row.insertAfter('.tbLogoRow');$('#wrapper').addClass('tbSystemAfter');}
$('#header').addClass('tbMobile');}}
else{if(typeof $system_row!="undefined"){$system_row.remove();$system_row=undefined;}
$('#wrapper').removeClass('tbSystemBefore tbSystemAfter');$('#header').removeClass('tbMobile');}};change_header();onSizeChange(change_header);}
function createItemSlider(container,items_count,slide_step,speed,pagination,responsive_params,slide_autoplay){var $slides=$(container+' .tb_listing').children();var init=false;var responsive_keys=[];for(var k in responsive_params){responsive_keys.push(Number(k));}
responsive_keys.sort(function(a,b){return a-b});function getRestrictions(c_width){var result={};if(responsive_keys.length){$.each(responsive_keys,function(key,value){result=responsive_params[value];if(c_width<=value){return false;}});}
return result;}
var SwiperObj=null;var current_slides_per_view;var buttons=function(){if(SwiperObj===null){return;}
if(SwiperObj.activeIndex<1){$(container).find('.tb_prev').addClass('tb_disabled').end().find('.tb_next').removeClass('tb_disabled');}else
if(SwiperObj.activeIndex+current_slides_per_view==items_count){$(container).find('.tb_next').addClass('tb_disabled').end().find('.tb_prev').removeClass('tb_disabled');}else{$(container).find('.tb_prev, .tb_next').removeClass('tb_disabled');}};function max_height(container){var max_h=0;var $items=$(container).find('.swiper-slide-visible .tb_item');$items.each(function(){var h=$(this).innerHeight();if(max_h==0||max_h<h){max_h=h;}});return max_h;}
function createSlider(slides_per_view,slide_step,slide_autoplay){$slides.wrapAll('<div class="swiper-container"><div class="swiper-wrapper"></div></div>').wrap('<div class="swiper-slide"></div>');$(container).addClass('has_slider').find('.tb_listing').addClass('tb_slider').removeClass('tb_slider_load');if(pagination){$(container).find('.tb_listing').after('<div class="tb_slider_pagination"></div>');}
$(container).find('.tb_listing').after('<div class="tb_slider_controls"><a class="tb_prev" href="javascript:;" title="'+$sReg.get('/lang/text_previous')+'"></a><a class="tb_next" href="javascript:;" title="'+$sReg.get('/lang/text_next')+'"></a></div>');if(slide_autoplay==true){SwiperObj=new Swiper(container+' .swiper-container',{slidesPerView:slides_per_view,slidesPerGroup:slide_step,speed:speed,autoplay:5000,autoplayDisableOnInteraction:false,pagination:pagination,paginationClickable:true,paginationActiveClass:'tb_active',roundLengths:true,autoResize:false,visibilityFullFit:true,onSwiperCreated:function(swiper){buttons();$(container).find('.swiper-container').addClass('tb_slider_init');},onSlideChangeEnd:function(swiper){buttons();},onTouchEnd:function(swiper){buttons();}});}else{SwiperObj=new Swiper(container+' .swiper-container',{slidesPerView:slides_per_view,slidesPerGroup:slide_step,speed:speed,pagination:pagination,paginationClickable:true,paginationActiveClass:'tb_active',roundLengths:true,autoResize:false,visibilityFullFit:true,onSwiperCreated:function(swiper){buttons();$(container).find('.swiper-container').addClass('tb_slider_init');},onSlideChangeEnd:function(swiper){buttons();},onTouchEnd:function(swiper){buttons();}});}}
function destroySlider(){SwiperObj.destroy();SwiperObj=null;$(container).removeClass('has_slider').find('.swiper-slide').unwrap().unwrap().end().find('.swiper-slide .tb_item').unwrap().end().find('.tb_slider_controls, .tb_slider_pagination').remove();$(container).find('.tb_listing').removeClass('tb_slider');}
function responsive(){var restrictions=getRestrictions($(container).width());var slides_per_view=Number(restrictions.items_per_row);if(items_count>slides_per_view&&SwiperObj===null){createSlider(slides_per_view,slide_step<slides_per_view?slide_step:slides_per_view,slide_autoplay);$(container).find('.tb_slider_pagination').addClass('tb_size_'+slides_per_view);current_slides_per_view=slides_per_view;buttons();}else
if(items_count<=slides_per_view&&SwiperObj!==null){destroySlider();}else
if(current_slides_per_view==slides_per_view&&SwiperObj!==null){SwiperObj.resizeFix();}else
if(current_slides_per_view!=slides_per_view&&SwiperObj!==null){SwiperObj.params.slidesPerView=slides_per_view;SwiperObj.params.slidesPerGroup=slide_step<slides_per_view?slide_step:slides_per_view;$(container).find('.tb_slider_pagination').removeClass('tb_size_'+current_slides_per_view).addClass('tb_size_'+slides_per_view);current_slides_per_view=slides_per_view;buttons();SwiperObj.resizeFix();}
if($(container).find('.tb_slider').hasClass('tb_side_nav')){tbApp.onWindowLoaded(function(){var nav_height=$(container).find('.tb_slider_controls > a:first-child').height();$(container).find('.tb_slider_controls').css('visibility','visible');$(container).find('.tb_slider_controls > a').css('margin-top',-($(container+' .swiper-container').height()/2+nav_height/2));});}}
$(container).on('click','.tb_prev',function(e){e.preventDefault();SwiperObj.swipePrev();buttons();});$(container).on('click','.tb_next',function(e){e.preventDefault();SwiperObj.swipeNext();buttons();});return{refresh:function(){if(false!==responsive_params){responsive();if(false===init){onSizeChange(function(){if($(container).is(":visible")){responsive();if($(container).parent().parent().hasClass('tb_tabs_content')){$(container).parent().css('height','');}}});init=true;}}else
if(false===init){buttons();init=true;}}}}
function adjustItemSize(container,responsive_params){var responsive_keys=[];for(var k in responsive_params){responsive_keys.push(Number(k));}
responsive_keys.sort(function(a,b){return a-b});function getRestrictions(c_width){var result={};if(responsive_keys.length){$.each(responsive_keys,function(key,value){result=responsive_params[value];if(c_width<=value){return false;}});}
return result;}
function responsive(){var restrictions=getRestrictions($(container).width());$(container).find('.tb_listing').removeClass('tb_size_1 tb_size_2 tb_size_3 tb_size_4 tb_size_5 tb_size_6 tb_size_7 tb_size_8').removeClass('tb_gut_0 tb_gut_10 tb_gut_20 tb_gut_30 tb_gut_40 tb_gut_50').addClass('tb_size_'+restrictions.items_per_row).addClass('tb_gut_'+restrictions.items_spacing);}
responsive();onSizeChange(function(){responsive();if($(container).parent().parent().hasClass('tb_tabs_content')){$(container).parent().css('height','');}});}
function element_query(element,resolutions){if(typeof resolutions=="undefined"){resolutions=[1000,900,800,700,600,500,400,300,200,100,0];}
var max_w=resolutions[0];var min_w=resolutions[resolutions.length-1];var width_detect=function(){var outerWidth=$(element).outerWidth();$.each(resolutions,function(i){if(i==0){if(outerWidth>resolutions[i]){$(element).removeClass('tb_max_w_'+max_w);$(element).removeClass('tb_min_w_'+min_w);$(element).addClass('tb_min_w_'+(resolutions[0]));max_w=0;min_w=resolutions[i];return false;}}else{if(outerWidth>resolutions[i]&&outerWidth<=resolutions[i-1]){$(element).removeClass('tb_max_w_'+max_w);$(element).removeClass('tb_min_w_'+min_w);$(element).addClass('tb_max_w_'+resolutions[i-1]);$(element).addClass('tb_min_w_'+resolutions[i]);max_w=resolutions[i-1];min_w=resolutions[i];return false;}}});};width_detect();onSizeChange(width_detect);}
function item_beautify(container){var original_per_row;var $viewport=$(window);var $tbListing=$(container).find('.tb_listing');for(var i=2;i<=8;i++){if($tbListing.hasClass('tb_size_'+i)){original_per_row=i;break;}}
var cur_products_per_row=original_per_row;function adjust_height(cur_products_per_row){var $products=$(container).find('.tb_item');var $product_row;var chunk=cur_products_per_row;if($(container).hasClass('has_slider')){chunk=$products.length;}
for(var i=0;i<$products.length;i+=chunk){var max_h=0;$product_row=$products.slice(i,i+chunk);$product_row.each(function(){var h=$(this).height();if(max_h==0||max_h<h){max_h=h;}});$product_row.each(function(){$(this).height(max_h);});}}
function responsive(){if($tbListing.hasClass('tb_grid_view')){$(container).find('.tb_item').css('height','');if($viewport.width()<=767){cur_products_per_row=3;}
if($viewport.width()<=480){cur_products_per_row=2;}
if($viewport.width()<=300){cur_products_per_row=1;}
if($viewport.width()>767){cur_products_per_row=original_per_row;}
adjust_height(cur_products_per_row);}}
responsive();onSizeChange(function(){responsive();});}
function item_hover(container,active_elements,hover_elements,hover_style){if(hover_style=='append'){$(container+' .tb_products.tb_grid_view:not(".tb_slider") .tb_item').each(function(){var $item=$(this);var $hover_content=$item.clone();$hover_content.find(hover_elements).remove();$hover_content.find('div.tb_actions:not(:has(*))').remove();$hover_content.find('div.tb_item_info:not(:has(*))').remove();$item.find(active_elements).remove();$item.find('div.tb_actions:not(:has(*))').remove();$item.find('div.tb_item_info:not(:has(*))').remove();$item.hover(function(){$item.append('<div class="tb_item_hovered">'+$hover_content.html()+'</div>');},function(){$item.find('.tb_item_hovered').remove();});});}
if(hover_style=='flip'||hover_style=='overlay'){$(container+' .tb_products.tb_grid_view .tb_item').each(function(){var $item=$(this);var $active_content=$item.clone();var $hover_content=$item.clone();$active_content.find(active_elements).remove();$hover_content.find(hover_elements).remove();$item.addClass('tb_'+hover_style);$item.children().remove();$item.append('<div class="tb_item_info_active tb_front">'+$active_content.html()+'</div>');$item.append('<div class="tb_item_info_hover tb_back"><div class="tb_item_info_wrap">'+$hover_content.html()+'</div></div>');$item.find('div.tb_actions:not(:has(*))').remove();$item.find('div.tb_item_info:not(:has(*))').remove();});}}
function thumb_hover(container,hover_style){if(hover_style=='flip'||hover_style=='overlay'){$(container+' .tb_products.tb_listing .tb_item').each(function(){var $item=$(this);if(!$item.find(".tb_thumb_hover").length){return true;}
$item.find('.tb_thumb:first-child').addClass('tb_front');$item.find('.tb_thumb_hover').addClass('tb_back');var thumb=$item.find('.tb_thumb:first-child').outerHTML();if(typeof thumb!="string"){thumb='';}
var thumb_hover=$item.find('.tb_thumb_hover').outerHTML();if(typeof thumb_hover!="string"){thumb_hover='';}
$item.find('.tb_thumb').remove();$item.prepend('<div class="tb_thumb tb_'+hover_style+'">'+thumb+thumb_hover+'</div>');});}}
function fluidDialog(){var $visible=$(".ui-dialog:visible");$visible.each(function(){var $this=$(this);var dialog=$this.find(".ui-dialog-content").data("ui-dialog");if(dialog.options.fluid){var wWidth=$(window).width();if(wWidth<dialog.options.maxWidth+50){$this.css("max-width","90%");}else{$this.css("max-width",dialog.options.maxWidth);}
dialog.option("position",dialog.options.position);}});}
function tbCreateDialog($selector,$parent){onSizeChange(fluidDialog,'tbFluidDialog',true);var $dialog=null;var callback=function(){if(null!==$dialog){$dialog.dialog('open');return false;}
var title=$(this).attr('alt')?$(this).attr('alt'):$(this).text();$dialog=$('<div></div>').appendTo('body').addClass('tb_loading').append('<i class="fa fa-circle-o-notch fa-spin"></i>').load($(this).attr('href'),function(){$(this).removeClass('tb_loading').wrap('<div class="overflow_text"></div>');}).dialog({title:title,width:600,maxWidth:600,height:'auto',maxHeight:document.documentElement.clientHeight-60,modal:true,fluid:true,resizable:false,position:{my:"top+30",at:"top",of:window},draggable:false,open:function(){fluidDialog();}});return false;};if(typeof $parent=='undefined'){$selector.bind('click',callback);}else{$parent.on('click',$selector,callback);}}
function lightbox_gallery(id,gallery,index){$('body').append('<div id="fotorama_'+id+'"><div class="tb_gallery tb_fullscreen"><div class="fotorama"></div><a class="tb_close" href="javascript:;"></a></div></div>');var $cont=$('#fotorama_'+id+'');$cont.css('position','relative');$cont.css('z-index','1000');function ios_fixed(){if((tb_is_iphone||tb_is_ipad)&&tb_is_ios4){var w_height=document.documentElement.clientHeight;var top=$(window).scrollTop();if(tb_is_iphone&&!window.navigator.standalone){w_height+=60;}
$cont.find('> .tb_gallery').height(w_height);$cont.find('> .tb_gallery').css('top',top);$(document).bind('touchmove.lightbox',function(e){e.preventDefault();},false);}}
ios_fixed();onSizeChange(function(){ios_fixed();if(typeof lightbox_fotorama!='undefined'){lightbox_fotorama.resize();}},'lightbox');var $lightbox_gallery=$cont.find('> .tb_gallery > .fotorama').fotorama({data:gallery,width:'100%',height:'100%',fit:'scaledown',startindex:index,shadows:false});var lightbox_fotorama=$lightbox_gallery.data('fotorama');function lightbox_remove(){lightbox_fotorama.destroy();$cont.fadeOut(function(){$(this).remove();});$('#'+id+' .tbGoFullscreen').removeClass('tbKeyPressed');$(document).unbind('keydown.lightbox_remove');$(document).unbind('touchmove.lightbox');offSizeChange('lightbox');}
$cont.find('.tb_close').bind('click',function(){lightbox_remove();return false;});$(document).bind("keydown.lightbox_remove",function(e){if(e.keyCode===27){lightbox_remove();}
if(e.keyCode===37){lightbox_fotorama.show('<');}
if(e.keyCode===39){lightbox_fotorama.show('>');}});}
function getURLVar(key){var value=[];var query=String(document.location).split('?');if(query[1]){var part=query[1].split('&');for(i=0;i<part.length;i++){var data=part[i].split('=');if(data[0]&&data[1]){value[data[0]]=data[1];}}
if(value[key]){return value[key];}else{return'';}}}
var $sReg=new function(){function unlink(object){var unlinked;switch(typeof object){case'object':unlinked={};for(var p in object)unlinked[p]=unlink(object[p]);break;case'array':unlinked=[];for(var i=0,l=object.length;i<l;i++)unlinked[i]=unlink(object[i]);break;default:return object;}
return unlinked;}
function mixin(mix){for(var i=1,l=arguments.length;i<l;i++){var object=arguments[i];if(typeof object!='object')continue;for(var key in object){var op=object[key],mp=mix[key];mix[key]=(mp&&typeof op=='object'&&typeof mp=='object')?mixin(mp,op):unlink(op);}}
return mix;}
function merge(){var args=Array.prototype.slice.call(arguments);args.unshift({});return mixin.apply(null,args);}
return{conf:{},set:function(path,value){var fragments=path.split('/');if(fragments.shift()!==''){return false;}
if(fragments.length>0&&fragments[fragments.length-1]==''){fragments.pop();}
var obj={};var ref=obj;var len=fragments.length;if(len>0){for(var i=0;i<len-1;i++){ref[fragments[i]]={};ref=ref[fragments[i]];}
ref[fragments[len-1]]=value;this.conf=merge(this.conf,obj);}else{this.conf=value;}},get:function(path){var fragments=path.split('/');if(fragments.shift()!==''){return null;}
if(fragments.length>0&&fragments[fragments.length-1]=='')fragments.pop();var ref=this.conf;var path_exists=true;var i=0;if(ref[fragments[i]]===undefined){return null;}
var len=fragments.length;while(path_exists&&i<len){path_exists=path_exists&&(ref[fragments[i]]!==undefined);ref=ref[fragments[i]];i++;}
return ref;}};};tbApp.onScriptLoaded(function(){var $uiButton=$.fn.button;$.fn.button=function(){if(arguments.length==1&&typeof arguments[0]=='string'){var $button=$(this);var position=$button.parent().hasClass('tb_submit')||$button.parent().hasClass('buttons')?'before':'after';if(arguments[0]=='loading'){$button.attr('disabled',true);if(position=='before'){$button.prev('.fa-spin').remove();$button.before('<i class="fa fa-circle-o-notch fa-spin"></i>');}else{$button.next('.fa-spin').remove();$button.after('<i class="fa fa-circle-o-notch fa-spin"></i>');}}
if(arguments[0]=='reset'){$button.attr('disabled',false);if(position=='before'){setTimeout(function(){$button.prev('.fa-spin').fadeOut(300,function(){$(this).remove();});},500);}else{setTimeout(function(){$button.next('.fa-spin').fadeOut(300,function(){$(this).remove();});},500);}}}else{$uiButton.apply(this,arguments);return this;}}
if($sReg.get("/tb/is_touch")!=0){$('body').addClass('is_touch');}
$('#search_button').bind('click',function(){moduleSearch($(this));});$('#filter_keyword').bind('keydown',function(e){if(e.keyCode==13){moduleSearch($(this));}});$("body").on("click",".tb_server_msg, .warning, .alert",function(){$(this).fadeOut(200,function(){$(this).remove();});});$('.tb_widget_cart > .tb_nav > .heading a').one('mouseenter',function(){$('.tb_widget_cart > .tb_nav').addClass('active').load('index.php?route=common/cart/info .tb_nav > *').on('mouseleave',function(){$(this).removeClass('active');});});$('.tb_nav > ul').find('li.tb_multiple:not(.tb_item)').hoverIntent({over:function(){$(this).addClass('tb_hovered');var site_width=$('#bottom > .tb_wrap > .tb_col_1_1 > .tb_row > .tb_wrap > .tb_col_1_1').width();var site_offset=$('#bottom > .tb_wrap > .tb_col_1_1 > .tb_row > .tb_wrap > .tb_col_1_1').offset().left;var submenu_width=$(this).find('> .tb_submenu').width();var submenu_outer_width=$(this).find('> .tb_submenu').outerWidth();var submenu_offset=$(this).find('> .tb_submenu').offset().left;var adjust=site_width
+site_offset
-submenu_width
-submenu_outer_width / 4
+submenu_width / 4
-submenu_offset
-1;if(adjust<0&&site_offset<submenu_width){$(this).find('> .tb_submenu').css('margin-left',Math.ceil(adjust));}},out:function(){$(this).removeClass('tb_hovered');$(this).find('> .tb_submenu').css('margin-left','');},timeout:250});$('#menu > ul').find('> li').hoverIntent({over:function(){$(this).addClass('tb_hovered');if(!$(this).find('> div').is(":within-viewport-left")){$(this).addClass('tb_out_of_view_left');}
if(!$(this).find('> div').is(":within-viewport-right")){$(this).addClass('tb_out_of_view_right');}},out:function(){$(this).removeClass('tb_hovered');$(this).removeClass('tb_out_of_view_left');$(this).removeClass('tb_out_of_view_right');},timeout:250});$('.tb_widget_cart > .tb_nav').hoverIntent({over:function(){$(this).addClass('tb_hovered');if(!$(this).find('> .tb_submenu').is(":within-viewport-left")){$(this).addClass('tb_out_of_view_left');}
if(!$(this).find('> .tb_submenu').is(":within-viewport-right")){$(this).addClass('tb_out_of_view_right');}},out:function(){$(this).removeClass('tb_hovered');$(this).removeClass('tb_out_of_view_left');$(this).removeClass('tb_out_of_view_right');},timeout:250});responsive_header();$('#header .tb_widget_currency, #main_navigation_row .tb_widget_currency').on('click','.tb_submenu a',function(e){changeCurrency($(this));});$('#header .tb_widget_language, #main_navigation_row .tb_widget_language').on('click','.tb_submenu a',function(e){changeLanguage($(this));});$('#header, #main_navigation_row').on('click','.tb_nav > ul > li.tb_multiple > a',function(e){if(!$(this).next('.tb_submenu').is(':visible')&&!$(this).parent().find('> .tb_toggle').is(':visible')){e.preventDefault();}});$('#header, #main_navigation_row').on('click','.tb_widget_cart > .tb_nav > .heading > a',function(e){if(!$('.tb_widget_cart > .tb_nav > .tb_submenu').is(':visible')){e.preventDefault();}});var tb_nav_touch_event=tb_is_ios?'touchend':'click';$('#header, #main_navigation_row').on(tb_nav_touch_event,'li.tb_multiple > .tb_toggle, li.tb_multiple > a[href*="javascript"]',function(){if(!$(this).parent().find('> .tb_submenu').is(':visible')){$(this).parent().addClass('tb_active').find('> .tb_toggle').addClass('tb_active');}else{$(this).parent().removeClass('tb_active').find('> .tb_toggle').removeClass('tb_active');}});$('#main_navigation > .tb_toggle').bind('click',function(){$('#main_navigation .tb_nav, #main_navigation #menu').toggleClass('tb_active');$('.tb_widget_site_search .tb_search_wrap').removeClass('tb_active');$('.tb_widget_cart > .tb_nav').removeClass('tb_active');});$('.tb_widget_site_search > .tb_toggle').bind('click',function(){$('.tb_widget_site_search .tb_search_wrap').toggleClass('tb_active');$('#main_navigation .tb_nav, #main_navigation #menu').removeClass('tb_active');$('.tb_widget_cart > .tb_nav').removeClass('tb_active');});$('.tb_widget_cart > .tb_toggle').bind('click',function(){$('.tb_widget_cart > .tb_nav').toggleClass('tb_active');$('#main_navigation .tb_nav, #main_navigation #menu').removeClass('tb_active');$('.tb_widget_site_search .tb_search_wrap').removeClass('tb_active');});function adjust_menu_height($items,items_per_row){var heights=[];for(var i=1;i<=$items.length;i++){var row_index=Math.ceil(i/items_per_row)-1;var diff=0;if(typeof heights[row_index]=="undefined"){heights[row_index]={};heights[row_index].h=[]}
if(i>items_per_row){diff=heights[row_index-1]['max']-heights[row_index-1].h[i-(items_per_row*row_index)-1];if(diff>0){$($items[i-1]).css('margin-top','-'+diff+'px');}}
heights[row_index].h.push($($items[i-1]).height()-diff);heights[row_index].max=Math.max.apply(Math,heights[row_index].h);}}
$('#main_navigation .tb_megamenu').each(function(){$(this).hover(function(){if($(window).width()>750){$subcategories=$(this).find('> .tb_submenu > .tb_row > .tb_wrap > [class*="tb_col_"] > .tb_subcategories');if(!$subcategories.hasClass('height_adjusted')){adjust_menu_height($subcategories.find('> .tb_item'),$subcategories.attr('data-cols'));$subcategories.addClass('height_adjusted');}}},function(){});});});$(document).ready(function(){$(tbApp).trigger("tbScriptLoadedInit");$(tbApp).trigger("tbScriptLoaded");});